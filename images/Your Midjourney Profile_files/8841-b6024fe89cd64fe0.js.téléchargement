(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8841],{70131:function(e,t,n){"use strict";n.d(t,{g:function(){return vt}});var a=n(85893),r=n(67294),s=n(69977),l=n(33299),i=n(25675),o=n(64343),c=n(58771),d=n(71722),u=n(11163),m=n(86896),x=n(44012),f=n(95591),p=n(45332),h={route:{}};h.route.match=function(e,t){if(t.equals)for(var n=0;n<t.equals.length;n++)if(e.pathname===t.equals[n])return!0;if(t.startsWith)for(var a=0;a<t.startsWith.length;a++)if(e.pathname.startsWith(t.startsWith[a]))return!0;if(t.includes)for(var r=0;r<t.includes.length;r++)if(e.pathname.includes(t.includes[r]))return!0;return!1},h.pick=function(e,t){for(var n={},a=0;a<t.length;a++){var r=t[a];n[r]=e[r]}return n},h.parse=JSON.parse,h.stringify=JSON.stringify;var v=h,g=["active","trialing"],b={"Pro Creator":"963152506924437514","Wave 1":"963006988827099146",Team:"694005289783132171",Moderator:"943142291298729984","Power User":"959946285773889626",Newbie:"951481232431136799","DM Power":"942185773925560321",Gallery:"965159233295355905",VIP:"972219691810578442",Guide:"967853397678112799",community:"1020387960471945306","10k":"976306628917882881","25k":"1025526414436479046"},j=v.pick(b,v.parse('[ "Team", "Dev" ]')),y=(v.pick(b,["Team","Moderator","Guide","VIP"]),v.pick(b,["Team","Moderator","community"])),w=v.pick(b,["Team","community","Moderator","Guide"]),N=v.pick(b,["Team","Moderator","community","Guide","DM Power","Private Powers","Corporate Member","VIP"]),Z={private:{name:"manageSub.private.name",slug:"private",prod_id:"prod_Lcs334C8pujpZS",price_id:"price_1KvcJBJavIy9pYdOw7Cr2v4t",price:20,metered:!1,enterprise:!1},play:{name:"manageSub.standard.name",slug:"play",prod_id:"prod_LaIPsl9yIhRp3W",price_id:"price_1Kt7oXJavIy9pYdO5frRoe0k",metered_price_id:"price_1Kt7oXJavIy9pYdOenmximUG",price:30,metered:!0,meteredPrice:3,includedHours:15,enterprise:!1},basic:{name:"manageSub.basic.name",slug:"basic",prod_id:"prod_Lgk8feHodgmpv7",price_id:"price_1KzMebJavIy9pYdOo9fUbtW2",metered_price_id:"price_1KzMebJavIy9pYdOFwvnw3fg",price:10,metered:!0,meteredPrice:4,includedHours:3.3333333333,enterprise:!1},corporate:{name:"manageSub.corporate.name",slug:"corporate",prod_id:"prod_LirecKjf376lCz",price_id:"price_1L1PvUJavIy9pYdOtzA468zl",metered_price_id:"price_1L1PvUJavIy9pYdOFZr7QOTS",price:600,metered:!0,meteredPrice:4,includedHours:120,enterprise:!0}},k=(Object.values(j),Object.values(y),Object.values(w),Object.values(N),Object.values(Z).map((function(e){return e.prod_id})),Object.values(Z).map((function(e){return e.price_id})),n(44755));function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){S(e,t,n[t])}))}return e}var P=function(e){var t=e.text,n=e.type,r=function(e){switch(n){case"success":return(0,a.jsx)(o.Z,{className:"text-green-600 ".concat(e.className)});case"error":return(0,a.jsx)(c.Z,{className:"text-red-600 ".concat(e.className)});case"warning":return(0,a.jsx)(c.Z,{className:"text-yellow-500 ".concat(e.className)});default:return(0,a.jsx)(d.Z,{className:"text-blue-700 animate-spin transform rotate-180 ".concat(e.className)})}};return(0,a.jsxs)("div",{className:"flex gap-4 justify-center items-center p-3 border-dashed w-full border ".concat(function(){switch(n){case"success":return"border-green-900/70";case"error":return"border-red-900/80";case"loading":default:return"border-blue-900/70";case"warning":return"border-yellow-800"}}()," rounded-lg sm:justify-between"),children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-100",children:t}),(0,a.jsx)("div",{className:"flex justify-center items-center w-6 h-6 rounded-full",children:(0,a.jsx)(r,{className:"w-6 h-6 text-white","aria-hidden":"true"})})]})};function C(e){var t=e.sessionId,n=e.setConfirmData,s=e.hash,l=(0,r.useState)(!0),i=l[0],o=l[1],c=(0,r.useState)(!1),d=c[0],h=c[1],v=(0,f.ZP)("/api/checkout/checkout-sessions/".concat(t),p.EE),b=v.data,j=v.error,y=(0,f.ZP)((function(){return e=b.subscription,"/api/checkout/subscriptions/".concat(e);var e}),p.EE,{refreshInterval:d?0:1e3}),w=y.data,N=y.error;(0,r.useEffect)((function(){"paid"===(null===b||void 0===b?void 0:b.payment_status)&&n(b)}),[b]),(0,r.useEffect)((function(){if(w&&w.subscription){var e=w.subscription.status;g.includes(e)&&h(!0)}}),[w]);var Z=(0,m.Z)();if(j||N)return(0,a.jsx)("div",{className:"flex justify-center items-center w-full h-full",children:(0,a.jsx)("h3",{className:"text-base font-normal text-slate-300",children:(0,a.jsx)(x.Z,{id:"confirmation.thereWasAnError"})})});var S=function(){var e={text:Z.formatMessage({id:"confirmation.subscriptionConfirming"}),type:"loading"};return"active"===(null===w||void 0===w?void 0:w.status)&&(e={text:Z.formatMessage({id:"confirmation.subscriptionActivated"}),type:"success"}),"unpaid"===(null===w||void 0===w?void 0:w.payment_status)&&(e={text:Z.formatMessage({id:"confirmation.subscriptionUnsuccessful"}),type:"error"}),(0,a.jsx)(P,_({},e))},C=function(){var e={text:Z.formatMessage({id:"confirmation.paymentConfirming"}),type:"loading"};return"paid"===(null===b||void 0===b?void 0:b.payment_status)&&(e={text:Z.formatMessage({id:"confirmation.paymentSuccessful"}),type:"success"}),"unpaid"===(null===b||void 0===b?void 0:b.payment_status)&&(e={text:Z.formatMessage({id:"confirmation.paymentUnsuccessful"}),type:"error"}),j&&(e={text:Z.formatMessage({id:"confirmation.paymentError"}),type:"warning"}),(0,a.jsx)(P,_({},e))},M={open:i,setOpen:o,title:Z.formatMessage({id:"confirmation.title"}),ActionButton:function(){return(0,a.jsx)("button",{type:"button",className:"inline-flex justify-center py-2 px-4 w-full text-base font-medium text-white disabled:text-gray-900 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 rounded-md border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-sm disabled:cursor-not-allowed sm:text-base",onClick:function(){s?u.default.push("/checkout/plans/?hash=".concat(s),void 0,{shallow:!0}):u.default.push("/account",void 0,{shallow:!0});var e=new Event("visibilitychange");document.dispatchEvent(e),o(!1)},disabled:!("paid"===(null===b||void 0===b?void 0:b.payment_status)&&"active"===(null===w||void 0===w?void 0:w.status)),children:(0,a.jsx)(x.Z,{id:"confirmation.close"})})},closeCallback:function(){return window.location.replace(s?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(s):"".concat("https://www.midjourney.com","/account/"))}};return(0,a.jsxs)(k.Z,{modalBaseProps:M,children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500",children:"paid"===(null===b||void 0===b?void 0:b.payment_status)&&"active"===(null===w||void 0===w?void 0:w.status)?(0,a.jsx)(x.Z,{id:"confirmation.thankYou",values:{discord:function(e){return(0,a.jsx)("a",{href:Z.formatMessage({id:"url.discordInvite"}),className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}}):"unpaid"===(null===b||void 0===b?void 0:b.payment_status)?(0,a.jsx)(x.Z,{id:"confirmation.pleaseWaitAFewMinutes",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}}):(0,a.jsx)(x.Z,{id:"confirmation.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:e})}}})})}),(0,a.jsx)(C,{}),(0,a.jsx)("div",{className:"h-4"}),(0,a.jsx)(S,{})]})}var M=n(63519),O=n(58057),B=n(47891),E=(n(83454),n(44304)),I=n(83195),A=n(36090),T=function(e){var t=e.planKey,n=e.priceKey,r=e.className,s=e.type,l=e.scheduled,i=(0,B.m)().setModalProps;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(A.Z,{onClick:function(){i({type:"upgrade",data:{planKey:t,priceKey:n,type:s}}),(0,E.B)("view_".concat(s),{category:"Billing",label:s,plan:t})},className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white bg-blue-900 hover:bg-blue-900/50 rounded-md border-2 border-transparent capitalize ".concat(r," ").concat(l&&"pointer-events-none bg-transparent border-blue-900"),"aria-describedby":"tier-standard",children:s})})};function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){var t,n=e.tier,r=e.viewTab,s=(0,B.m)(),l=s.userData,i=s.userPlanRecurring,o=s.changing,c=s.setModalProps,d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){D(e,t,n[t])}))}return e}({},l).status,u=(0,m.Z)(),f=o&&l.next.plan.key===n.key&&r===l.next.plan.price.key,p={basic:"!bg-teal-600",standard:"!bg-indigo-600",pro:"!bg-amber-600"}[n.key];return r!==i||!n.current||"active"!==d&&"past_due"!==d?f?(0,a.jsxs)(A.Z,{onClick:function(){var e;c({type:"unchange"}),(0,E.B)("view_cancelchange",{category:"Billing",label:"cancel change",plan:n.key,price:null===(e=null===n||void 0===n?void 0:n.price[null===n||void 0===n?void 0:n.credit_period])||void 0===e?void 0:e.price,period:n.credit_period})},className:"flex relative group justify-center items-center py-3 px-5 w-full text-base font-medium text-white hover:!bg-blue-900 rounded-md border-2 border-transparent capitalize border-blue-900\n        }","aria-describedby":"tier-standard",children:[(0,a.jsx)("span",{className:"group-hover:hidden",children:(0,a.jsx)(x.Z,{id:"manageSub.changeScheduled"})}),(0,a.jsx)("span",{className:"hidden group-hover:block",children:(0,a.jsx)(x.Z,{id:"manageSub.cancelScheduledChange"})})]}):"active"===d&&!n.current||n.current&&r!==i?(0,a.jsx)(T,{planKey:n.key,priceKey:null===(t=n.price[r])||void 0===t?void 0:t.key,scheduled:f,type:f&&u.formatMessage({id:"manageSub.changeScheduled"})||n.level>(null===l||void 0===l?void 0:l.plan.level)&&u.formatMessage({id:"manageSub.upgradePlan"})||n.level<(null===l||void 0===l?void 0:l.plan.level)&&u.formatMessage({id:"manageSub.downgradePlan"})||n.current&&u.formatMessage({id:"manageSub.changeCommitment"})}):(0,a.jsx)("div",{className:"rounded-md shadow ",children:(0,a.jsx)(I.Z,{planKey:n.key,priceKey:r,period:n.credit_period,className:p})}):(0,a.jsx)(A.Z,{disabled:!0,className:"inline-flex items-center py-3 px-5 !text-base text-white rounded-md border-2 border-transparent shadow-sm pointer-events-none sm:text-sm ".concat(p),children:(0,a.jsx)(x.Z,{id:"manageSub.active"})})};function F(e){var t,n,r,s,l=e.tier,i=e.cancelling,o=e.viewTab,c=e.setViewTab,d=e.hash,u=(0,B.m)(),m=u.userPlanRecurring,f=u.status,h=u.subbed,v=u.privateSub,g={basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400"}[l.key],b={basic:"from-teal-700/10",standard:"from-indigo-700/10",pro:"from-amber-700/10"}[l.key];return(0,a.jsx)("div",{className:"relative col-span-1 max-w-7xl",role:"tabpanel","aria-label":"".concat(o,"ly ").concat(l.key),children:(0,a.jsxs)("div",{className:"overflow-hidden h-full mx-auto max-w-lg bg-darkBlue-500/20 rounded-2xl border-2 transition-[border] flex-col ".concat(h&&l.current?"active"===f||null==f?"border-emerald-700/30":"border-red-500/30":"border-slate-800/30 !border","  shadow-lg lg:flex lg:max-w-none"),children:[(0,a.jsxs)("div",{className:"relative py-8 px-6 !pb-8 text-left bg-uiBlue-500/5 lg:flex lg:flex-col lg:shrink-0 lg:justify-start lg:p-12",children:[(0,a.jsx)("div",{className:(0,p.CN)("absolute top-0 left-0 -z-10 w-full h-full bg-gradient-to-br  via-transparent",b)}),(0,a.jsx)("h3",{className:"text-2xl font-medium text-slate-400 capitalize sm:text-2xl",children:(0,a.jsxs)("span",{className:g,children:[(0,a.jsx)(x.Z,{id:null!==(s=l.key)&&void 0!==s?s:"missing"}),(0,a.jsx)(x.Z,{id:"manageSub.plan"})]})}),(0,a.jsxs)("div",{className:"flex justify-start items-baseline mt-4 text-5xl font-extrabold text-slate-100",children:[function(e,t){var n="$";return Number.isNaN(e)||void 0===e||("year"===t?n+=Math.floor(e/100/12):"month"===t&&(n+=e/100)),n}(null===(t=null===l||void 0===l?void 0:l.price[o])||void 0===t?void 0:t.cents,o),(0,a.jsx)("span",{className:"ml-2 text-xl font-medium text-gray-500",children:(0,a.jsx)(x.Z,{id:"manageSub.perMonth"})})]}),(0,a.jsxs)("p",{className:"text-lg font-medium leading-6 text-slate-300",children:["year"===o?(0,a.jsx)(x.Z,{id:"manageSub.billedYearly"}):(0,a.jsx)(x.Z,{id:"manageSub.billedMonthly"})," "]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("div",{className:"relative rounded-md shadow",children:(0,a.jsx)(W,{tier:l,subbed:h,viewTab:o,userPlanRecurring:m,privateSub:v,hash:d,status:f,cancelling:i})})}),(0,a.jsxs)("button",{onClick:function(){return c("month"===o?"year":"month")},className:"p-1 flex items-center gap-1 justify-center ml-1 mt-2 px-1.5 text-sm hover:underline font-medium text-blue-700 text-center w-full",children:["year"===o?(0,a.jsx)(x.Z,{id:"manageSub.switchToMonthlyBilling"}):(0,a.jsx)(x.Z,{id:"manageSub.saveWithAnnualBilling"})," ",(0,a.jsx)(M.Z,{height:12,className:"opacity-80"})]})]}),(0,a.jsx)("div",{className:"flex-1 py-8 px-6 lg:p-12 lg:py-8",children:(0,a.jsx)("ul",{role:"list",className:"flex flex-col border-t divide-y divide-slate-800 lg:border-t-0",children:null===l||void 0===l||null===(n=l.copy)||void 0===n||null===(r=n.features)||void 0===r?void 0:r.map((function(e,t){return(0,a.jsxs)("li",{className:"flex items-center py-4 lg:col-span-1 ",children:[(0,a.jsx)("div",{className:"shrink-0",children:(0,a.jsx)(O.Z,{height:18,className:" text-emerald-600","aria-hidden":"true"})}),(0,a.jsx)("p",{className:"ml-3 text-base text-slate-300",children:(0,a.jsx)(x.Z,{id:null!==e&&void 0!==e?e:"missing"})})]},"".concat(e,"-").concat(t))}))})})]})})}var R=function(e){var t;return(0,a.jsx)("div",{className:"",children:(0,a.jsx)("div",{className:"py-12 pb-16",children:(0,a.jsx)("div",{className:"flex grid relative flex-wrap gap-8 items-auto",style:{gridTemplateColumns:"repeat(auto-fit, minmax(325px, 1fr))"},"aria-label":"".concat(e.viewTab,"ly plans"),children:null===(t=e.tiers)||void 0===t?void 0:t.filter((function(e){return!e.legacy})).map((function(t,n){return(0,a.jsx)(F,{tier:t,cancelling:e.cancelling||!1,hash:e.hash,viewTab:e.viewTab,setViewTab:e.setViewTab},"".concat(t.id,"-").concat(n))}))})})})};function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var H=function(e){var t,n=e.viewTab,r=void 0===n?"year":n,s=e.setViewTab,l=e.className;return(0,a.jsx)("div",{className:"select-none relative px-4 mx-auto w-full max-w-2xl sm:px-6 lg:px-8 ".concat(l),children:(0,a.jsx)("div",{className:"block",children:(0,a.jsx)("nav",{className:"flex relative z-0 gap-1 p-1 bg-darkBlue-500 rounded-2xl shadow","aria-label":"Tabs",role:"tablist",children:[{name:"manageSub.yearlyBilling",key:"year",tag:"20% off"},{name:"manageSub.monthlyBilling",key:"month"}].map((function(e,n){return(0,a.jsx)("a",{className:q(e.key===r?"text-slate-100 bg-uiBlue-500":"text-slate-400 hover:text-slate-200","group relative overflow-hidden min-w-0 flex-1   p-3 text-base font-medium text-center cursor-pointer rounded-xl hover:bg-uiBlue-500/50 focus:z-10 active:bg-uiBlue-500/70"),onClick:function(){s(e.key)},"aria-current":e.key===r?"page":void 0,role:"tab",children:(0,a.jsx)("span",{children:(0,a.jsx)(x.Z,{id:null!==(t=e.name)&&void 0!==t?t:"missing"})})},e.key)}))})})})},L=n(34051),U=n.n(L),z=n(56365),Y=n(60670),$=n(12197);function K(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){K(s,a,r,l,i,"next",e)}function i(e){K(s,a,r,l,i,"throw",e)}l(void 0)}))}}var V=function(e){var t=e.invoices;return t&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex flex-col gap-2",children:t.map((function(e){var t,n=new Date(1e3*e.created).toLocaleDateString();return(0,a.jsxs)(Y.Z,{href:e.hosted_invoice_url,target:"_blank",className:"group flex flex-col gap-1 justify-between items-start !p-4 w-full bg-blue-900/10 hover:bg-blue-900/30 rounded-xl border border-blue-900 hoverUpSmall",rel:"noreferrer",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 w-full",children:[(0,a.jsx)("h3",{className:"flex justify-start text-base font-normal text-slate-200",children:n}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end items-center font-normal text-slate-400 group-hover:underline",children:[(0,a.jsx)(x.Z,{id:"invoice.payNow"})," ",(0,a.jsx)(z.Z,{height:18})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between w-full",children:[(0,a.jsxs)("div",{className:"w-full text-sm font-normal font-medium text-left text-slate-500 capitalize",children:[(0,a.jsx)("span",{className:" text-slate-400",children:"Amount Due:"})," ",(0,a.jsxs)("span",{className:"capitalize",children:[e.subtotal/100," ",e.currency.toUpperCase()]})]}),(0,a.jsxs)("div",{className:"w-full text-sm font-normal font-medium text-right text-slate-500 capitalize",children:[(0,a.jsx)("span",{className:" text-slate-400",children:"Reason:"})," ",(0,a.jsx)("span",{className:"capitalize",children:null===(t=e.billing_reason)||void 0===t?void 0:t.replaceAll("_"," ")})]})]})]},e.id)}))})})};function J(e,t){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/checkout-discord/subscriptions/get-invoices/"),{stripe_id:e,hash:t})}function X(e){var t=e.stripe_id,n=e.setOpen,s=e.open,l=e.hash,i=(0,r.useState)(),o=i[0],c=i[1];(0,r.useEffect)((function(){function e(){return(e=G(U().mark((function e(){var n;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,l);case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var d={open:s,setOpen:n,title:(0,m.Z)().formatMessage({id:"invoice.title"}),type:"warning",showClose:!0};return(0,a.jsxs)(k.Z,{modalBaseProps:d,children:["list"===(null===o||void 0===o?void 0:o.object)&&(0,a.jsx)(V,{invoices:o.data}),"list"!==(null===o||void 0===o?void 0:o.object)&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}var Q=function(e){var t=e.stripe_id,n=e.className,s=e.hash,l=(0,r.useState)(!1),i=l[0],o=l[1];return(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)(X,{open:i,setOpen:o,stripe_id:t,hash:s},"".concat(t,"-modal")),(0,a.jsx)(A.Z,{onClick:function(){return o(!0)},className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white bg-red-900 hover:!bg-red-800/50 rounded-md border border-transparent ".concat(n),"aria-describedby":"tier-standard",children:(0,a.jsx)(x.Z,{id:"invoice.viewOverdueInvoices"})})]})},ee=n(38264);function te(e){var t=e.text,n=e.type,r=e.className,s=e.children,l=function(e){switch(n){case"success":return(0,a.jsx)(o.Z,{className:"text-emerald-600 ".concat(e.className)});case"error":return(0,a.jsx)(c.Z,{className:"text-red-600 ".concat(e.className)});case"warning":return(0,a.jsx)(c.Z,{className:"text-yellow-500 ".concat(e.className)});case"info":return(0,a.jsx)(ee.Z,{className:"text-blue-600 ".concat(e.className)});default:return(0,a.jsx)(d.Z,{className:"text-blue-700 animate-spin transform rotate-180 ".concat(e.className)})}};return(0,a.jsxs)("div",{className:"flex gap-4 text-left justify-center items-center p-3 border-dashed w-full border-[1.5px] ".concat(function(){switch(n){case"success":return"border-emerald-900/70 text-emerald-500";case"error":return"border-red-900/80 text-red-500";case"loading":default:return"border-blue-900/70 text-blue-500";case"warning":return"border-yellow-800 text-yellow-500"}}()," rounded-lg bg-darkBlue-900/50 .text-slate-100 sm:justify-between ").concat(r),children:[(0,a.jsx)("h3",{className:"text-base font-normal ",children:t||s}),(0,a.jsx)("div",{className:"flex justify-center items-center w-6 h-6 rounded-full",children:(0,a.jsx)(l,{className:"w-6 h-6","aria-hidden":"true"})})]})}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ae(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){ae(s,a,r,l,i,"next",e)}function i(e){ae(s,a,r,l,i,"throw",e)}l(void 0)}))}}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,s=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(a=n.next()).done)&&(s.push(a.value),!t||s.length!==t);l=!0);}catch(o){i=!0,r=o}finally{try{l||null==n.return||n.return()}finally{if(i)throw r}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ie=function(e){var t=e.currentStatus,n=e.data,r={text:"Update confirming...",type:"loading"};return"confirmed"===t&&(r={text:"Update confirmed",type:"success"}),"error"===t&&(r={text:"Error: ".concat(null===n||void 0===n?void 0:n.error.message),type:"error"}),(0,a.jsx)(te,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){se(e,t,n[t])}))}return e}({},r))},oe=function(e){var t=e.currentStatus,n=e.data,r=(0,m.Z)();return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("p",{className:"text-base text-gray-500",children:"confirmed"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"cancel.success"})}),(0,a.jsx)(x.Z,{id:"cancel.yourChangeHasBeenConfirmed"})]}):"error"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"cancel.somethingWentWrong"})}),(0,a.jsx)(x.Z,{id:"cancel.pleaseCheckTheError",values:{support:function(e){return(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:r.formatMessage({id:"url.supportChannel"}),target:"_blank",rel:"noreferrer",children:e})}}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"cancel.processing"})}),(0,a.jsx)(x.Z,{id:"cancel.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:r.formatMessage({id:"url.supportChannel"}),target:"_blank",rel:"noreferrer",children:e})}}})]})})}),(0,a.jsx)(ie,{currentStatus:t,data:n})]})};function ce(e){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/uncancel/"),{hash:e})}function de(e,t){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/cancel/"),{when:e,hash:t})}function ue(e){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/cancel/estimate/"),{hash:e})}function me(e){var t,n,s=e.setOpen,l=e.open,i=(0,B.m)(),o=(i.userData,i.cancelling),c=i.hash,d=i.plans,f=(0,r.useState)(!1),h=(f[0],f[1],(0,r.useState)(!1)),v=h[0],g=(h[1],(0,r.useState)(null)),b=g[0],j=g[1],y=(0,u.useRouter)(),w=(0,r.useState)(),N=w[0],Z=w[1],S=(0,r.useState)("end_of_period"),_=S[0],P=S[1],C=(0,r.useState)("loading"),M=C[0],O=C[1],I=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(M)}),[M]),T=(0,r.useMemo)((function(){var e={key:"n/a"};if(d&&Array.isArray(d)){var t=le(d.filter((function(e){return e.current})),1)[0];t&&(e=t)}return e}),[d]);(0,r.useEffect)((function(){function e(){return(e=re(U().mark((function e(){var t;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(c);case 2:(null===(t=e.sent)||void 0===t?void 0:t.usage)&&(Z(t),O("checking"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){function e(){return(e=re(U().mark((function e(){var t;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I("confirming")){e.next=15;break}if((0,E.B)("subscription_".concat(o?"un":"","cancel"),{timeframe:_,plan:null===T||void 0===T?void 0:T.key}),o){e.next=9;break}return e.next=6,de(_,c);case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,ce(c);case 11:t=e.sent;case 12:console.log("res: ",t),(null===t||void 0===t?void 0:t.ok)||!t.error?O("confirmed"):O("error"),j(t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o,I,v,c,_]);var D=(0,m.Z)(),W=(0,r.useMemo)((function(){return I("confirming")?function(){}:I("confirmed")?function(){return y.reload()}:null}),[I,y]),F={open:l,setOpen:s,title:o?D.formatMessage({id:"cancel.wereHappyToSeeYouAgain"}):D.formatMessage({id:"cancel.wereSorryToSeeYouGo"}),ActionButton:function(){return!I("confirming","confirmed")||I("error")?(0,a.jsxs)(A.Z,{className:(0,p.CN)("inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-white disabled:text-gray-900  disabled:!bg-gray-600 rounded-md border border-transparent focus:outline-none focus:ring-2  focus:ring-offset-2 shadow-sm disabled:cursor-not-allowed sm:text-base",o?"bg-emerald-800 hover:!bg-emerald-700 focus:ring-emerald-700":"bg-red-800 hover:!bg-red-700 focus:ring-red-700"),disabled:!(null!=N||o),onClick:function(){O("confirming")},children:[!I("error")&&(o?(0,a.jsx)(x.Z,{id:"cancel.confirmUncancellation"}):(0,a.jsx)(x.Z,{id:"cancel.confirmCancellation"})),I("error")?"Try Again":""]}):(0,a.jsx)(A.Z,{className:"inline-flex justify-center py-2 px-4 w-full text-base font-medium text-white hover:text-white bg-blue-600 hover:bg-blue-800 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base disabled:text-gray-900 disabled:!bg-gray-600 disabled:cursor-not-allowed min-h-[3rem]",onClick:function(){I("confirmed")&&y.reload()},disabled:!I("confirmed"),children:I("confirmed")?(0,a.jsx)(x.Z,{id:"cancel.close"}):(0,a.jsx)(x.Z,{id:"cancel.pleaseWait"})})},BackButton:function(){return I("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(A.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent hover:border-slate-700 focus:outline-none focus:ring-0 transition sm:text-base",onClick:function(){return s(!1)},children:(0,a.jsx)(x.Z,{id:"cancel.back"})})},showClose:!0,closeCallback:W},R=[{id:"end_of_period",title:D.formatMessage({id:"cancel.cancelAtEndOfSub"})},{id:"now",title:D.formatMessage({id:"cancel.cancelImmediatelyWithRefund"})}];return(0,a.jsxs)(k.Z,{modalBaseProps:F,children:[I("confirming","error","confirmed")&&(0,a.jsx)(oe,{data:b,currentStatus:M}),!o&&(null===N||void 0===N||null===(t=N.can_cancel)||void 0===t?void 0:t.now)&&I("checking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"cancel.youAreEligibleForAFullRefund"})}),(0,a.jsx)("p",{className:"",children:(0,a.jsx)(x.Z,{id:"cancel.youMayChooseToCancelImmediately"})}),(0,a.jsxs)("fieldset",{className:"mt-4",onChange:function(e){return P(e.target.id)},children:[(0,a.jsx)("legend",{className:"sr-only",children:"Cancel timeframe"}),(0,a.jsx)("div",{className:"space-y-4",children:R.map((function(e){return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:e.id,name:"cancel-timeframe",type:"radio",defaultChecked:e.id===_,className:"w-4 h-4 text-indigo-600 bg-red-500 border-gray-300 focus:ring-indigo-500 cursor-pointer"}),(0,a.jsx)("label",{htmlFor:e.id,className:"block ml-3 text-base font-medium text-slate-200 cursor-pointer",children:e.title})]},e.id)}))})]})]}),o&&I("checking")&&(0,a.jsx)("div",{className:"flex flex-col gap-6 my-2 text-left",children:(0,a.jsx)("p",{className:"text-slate-200",children:(0,a.jsx)(x.Z,{id:"cancel.ifYouProceedNotCancel",values:{highlight:function(e){return(0,a.jsx)("span",{className:"font-medium text-blue-400 italic underline",children:e})}}})})}),!o&&!(null===N||void 0===N||null===(n=N.can_cancel)||void 0===n?void 0:n.now)&&I("checking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-6 my-2 text-left",children:[(0,a.jsx)("p",{className:"text-slate-200",children:(0,a.jsx)(x.Z,{id:"cancel.ifYouProceedCancel",values:{highlight:function(e){return(0,a.jsx)("span",{className:"font-medium text-blue-400 italic underline",children:e})}}})}),(0,a.jsxs)("p",{className:"flex gap-2 items-start p-2 italic text-slate-400 rounded-lg border border-blue-800",children:[(0,a.jsx)(ee.Z,{height:20,className:"inline shrink-0 text-blue-600"}),(0,a.jsx)(x.Z,{id:"cancel.ifYouChangeYourMind"})]})]}),I("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}var xe=n(10822);function fe(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function pe(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){fe(s,a,r,l,i,"next",e)}function i(e){fe(s,a,r,l,i,"throw",e)}l(void 0)}))}}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=function(e){var t=e.currentStatus,n=e.data,r=(0,m.Z)();console.log("currentStatus: ",t);var s={text:r.formatMessage({id:"credit.purchaseConfirming"}),type:"loading"};return"confirmed"===t&&(s={text:r.formatMessage({id:"credit.purchaseConfirmed"}),type:"success"}),"error"===t&&(s={text:"".concat(r.formatMessage({id:"credit.error"}),": ").concat(null===n||void 0===n?void 0:n.error.message),type:"error"}),(0,a.jsx)(te,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){he(e,t,n[t])}))}return e}({},s))},ge=function(e){var t=e.currentStatus,n=e.data,r=(0,m.Z)();return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("p",{className:"text-base text-gray-500",children:"confirmed"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"credit.success"})}),(0,a.jsx)(x.Z,{id:"credit.yourPurchaseHasBeenConfirmed"})]}):"error"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"credit.somethingWentWrong"})}),(0,a.jsx)(x.Z,{id:"credit.pleaseCheckTheError",values:{support:function(e){return(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:r.formatMessage({id:"url.supportChannel"}),target:"_blank",rel:"noreferrer",children:e})}}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"credit.processing"})}),(0,a.jsx)(x.Z,{id:"credit.pleaseCheckTheError",values:{support:function(e){return(0,a.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:r.formatMessage({id:"url.supportChannel"}),target:"_blank",rel:"noreferrer",children:e})}}})]})})}),(0,a.jsx)(ve,{currentStatus:t,data:n})]})};function be(e,t){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/credits/purchase"),{price_key:e,hash:t})}function je(e){return(0,p.EE)("".concat("https://www.midjourney.com","/api/billing/passthrough/product/credits/rollover/user_id/").concat(e?"?hash=".concat(e):""))}function ye(e){var t,n=e.setOpen,s=e.open,l=(0,B.m)().hash,i=(0,r.useState)([]),o=i[0],c=i[1],d=(0,r.useState)(""),f=d[0],h=d[1],v=(0,r.useState)(null),g=v[0],b=v[1],j=(0,r.useState)("loading"),y=j[0],w=j[1],N=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(y)}),[y]),Z=(0,u.useRouter)();(0,r.useEffect)((function(){function e(){return(e=pe(U().mark((function e(){var t;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(l);case 2:t=e.sent,c(null===t||void 0===t?void 0:t.prices),w("idle");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){function e(){return(e=pe(U().mark((function e(){var t;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("confirming"!==y){e.next=6;break}return(0,E.B)("credits_purchase",{category:"Billing",label:"credits purchase",price_id:f}),e.next=4,be(f,l);case 4:t=e.sent,b(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,y,f]),(0,r.useEffect)((function(){if(g){if(console.log("taskResponse: ",g),g.success||g.credits)return void w("confirmed");!g.error&&g.credits||w("error")}}),[g]);var S=(0,m.Z)(),_=(0,r.useMemo)((function(){return N("confirming")?function(){}:N("confirmed")?function(){return Z.reload()}:null}),[N,Z]),P={open:s,setOpen:n,title:S.formatMessage({id:"credit.title"}),ActionButton:function(){return(0,a.jsxs)(A.Z,{className:(0,p.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:text-gray-900 disabled:!bg-gray-600 disabled:cursor-not-allowed min-h-[3rem]",f&&"bg-blue-700 hover:bg-blue-800"),onClick:function(){"confirmed"===y?Z.reload():"error"===y?(b(null),w("confirming")):"confirm"===y?w("confirming"):f&&w("confirm")},disabled:!f&&"confirmed"!==y,children:[["idle","loading"].includes(y)&&!f&&(0,a.jsx)(x.Z,{id:"credit.selectAnAmount"}),["idle","loading"].includes(y)&&f&&(0,a.jsx)(x.Z,{id:"credit.continue"}),"confirmed"===y&&(0,a.jsx)(x.Z,{id:"credit.close"}),"confirming"===y&&(0,a.jsx)(x.Z,{id:"credit.pelaseWait"}),"error"===y&&(0,a.jsx)(x.Z,{id:"credit.tryAgain"}),["confirm"].includes(y)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x.Z,{id:"credit.purchase"})})]})},BackButton:function(){return["confirming","confirmed"].includes(y)?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(A.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:!bg-white/0 hover:!bg-slate-700 rounded-md border !border-transparent focus:outline-none focus:ring-0 transition sm:text-base",onClick:function(){["confirm","error"].includes(y)?(w("idle"),b(null)):n(!1)},children:(0,a.jsx)(x.Z,{id:"credit.back"})})},showClose:!0,closeCallback:_};return(0,a.jsxs)(k.Z,{modalBaseProps:P,children:[["confirming","error","confirmed"].includes(y)&&(0,a.jsx)(ge,{data:g,currentStatus:y}),["idle"].includes(y)&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"credit.selectAmountOfFastHours"})}),(0,a.jsx)(x.Z,{id:"credit.youWillBeAskedToConfirm"}),(0,a.jsx)("span",{className:"italic text-slate-400",children:(0,a.jsx)(x.Z,{id:"credit.whilePurchasedHoursDoNotExpire",values:{underline:function(e){return(0,a.jsx)("span",{className:"underline",children:e})}}})}),(0,a.jsx)("div",{className:"flex gap-4 mt-4 md:px-8",children:null===o||void 0===o?void 0:o.map((function(e,t){var n=null===e||void 0===e?void 0:e.key;return(0,a.jsxs)("button",{className:(0,p.CN)("flex flex-col text-center items-center p-4 px-4 w-full bg-darkBlue-500/70 hover:bg-uiBlue-500/70 rounded-md !border border-slate-800/50 hover:border-slate-400/30 hoverUpSmall",f===n&&"from-emerald-600/50 bg-gradient-to-br !border-emerald-500"),onClick:function(){h(n)},children:[(0,a.jsxs)("div",{className:(0,p.CN)("flex relative flex-col text-emerald-600",f===n&&"!text-white"),children:[(0,a.jsx)(xe.Z,{height:28,className:"-mb-5  opacity-0 ".concat(t>=2&&"!opacity-100")}),(0,a.jsx)(xe.Z,{height:28,className:" opacity-0 ".concat(t>=1&&"!opacity-100")}),(0,a.jsx)(xe.Z,{height:28,className:"-mt-5"})]}),(0,a.jsxs)("p",{className:"mt-2 text-lg font-medium text-slate-100","aria-label":"".concat(null===e||void 0===e?void 0:e.hours," ").concat((null===e||void 0===e?void 0:e.hours)>1?S.formatMessage({id:"credit.hours"}):S.formatMessage({id:"credit.hour"})),children:[null===e||void 0===e?void 0:e.hours,(null===e||void 0===e?void 0:e.hours)>1?(0,a.jsx)(x.Z,{id:"credit.hours"}):(0,a.jsx)(x.Z,{id:"credit.hour"})]}),(0,a.jsx)("p",{className:"text-base font-medium text-slate-200 mix-blend-overlay",children:null===e||void 0===e?void 0:e.price})]},n)}))})]}),["confirm"].includes(y)&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:"Confirm your purchase"}),(0,a.jsx)("p",{className:"",children:(0,a.jsx)(x.Z,{id:"credit.yourSavedPaymentMethodWill"})}),(0,a.jsx)("span",{className:"italic text-slate-400",children:(0,a.jsx)(x.Z,{id:"credit.whilePurchasedHoursDoNotExpire",values:{underline:function(e){return(0,a.jsx)("span",{className:"underline",children:e})}}})}),null===(t=o.filter((function(e){return e.key===f})))||void 0===t?void 0:t.map((function(e,t){return(0,a.jsxs)("div",{className:(0,p.CN)("p-4 mt-3 bg-darkBlue-500/70 border-slate-800/50 border rounded-lg"),children:[(0,a.jsxs)("div",{className:"flex gap-5 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:(0,a.jsx)(x.Z,{id:"credit.pricePerHour"})}),(0,a.jsx)("p",{className:"justify-center items-center font-medium text-slate-100",children:e.price_per_hour})]}),(0,a.jsxs)("div",{className:"flex gap-5 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:(0,a.jsx)(x.Z,{id:"credit.fastHours"})}),(0,a.jsxs)("p",{className:"justify-center items-center font-medium text-slate-100",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"x"})," ",null===e||void 0===e?void 0:e.hours]})]}),(0,a.jsx)("hr",{className:"my-2 opacity-30"}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-slate-400",children:(0,a.jsx)(x.Z,{id:"credit.subtotal"})}),(0,a.jsx)("p",{className:"justify-center items-center font-medium text-slate-100",children:null===e||void 0===e?void 0:e.price})]})]},e.key)}))]}),"loading"===y&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}var we=n(13902);function Ne(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){Ne(s,a,r,l,i,"next",e)}function i(e){Ne(s,a,r,l,i,"throw",e)}l(void 0)}))}}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){var t,n=e.currentStatus,r=e.data,s=(0,m.Z)(),l={text:s.formatMessage({id:"removePrivate.changeConfirming"}),type:"loading"};("confirmed"===n&&(l={text:s.formatMessage({id:"removePrivate.changeConfirmed"}),type:"success"}),"error"===n||"estimate_error"===n)&&(l={text:"".concat(s.formatMessage({id:"removePrivate.error"}),": ").concat((null===r||void 0===r||null===(t=r.error)||void 0===t?void 0:t.message)||"Unknown error"),type:"error"});return(0,a.jsx)(te,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){ke(e,t,n[t])}))}return e}({},l))},_e=function(e){var t=e.currentStatus,n=e.data,r=(0,m.Z)();return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"removePrivate.success"})}),(0,a.jsx)(x.Z,{id:"removePrivate.yourPlanChangeHasBeen"})]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"removePrivate.somethingWentWrong"})}),(0,a.jsx)(x.Z,{id:"removePrivate.pleaseTryAgain",values:{support:function(e){return(0,a.jsx)("a",{href:r.formatMessage({id:"url.supportChannel"}),className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;case"estimate_error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"removePrivate.somethingWentWrong"})}),(0,a.jsx)(x.Z,{id:"removePrivate.thereWasAnError",values:{support:function(e){return(0,a.jsx)("a",{href:r.formatMessage({id:"url.supportChannel"}),className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"removePrivate.processing"})}),(0,a.jsx)(x.Z,{id:"removePrivate.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{href:r.formatMessage({id:"url.supportChannel"}),className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]})}return e}()})}),(0,a.jsx)(Se,{currentStatus:t,data:n})]})};function Pe(e){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/add_on/cancel/"),{product:"can_private",hash:e})}function Ce(e){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/add_on/cancel/estimate/"),{product:"can_private",hash:e})}function Me(e){var t,n,s,l,i,o,c,d,f,h,v,g,b=e.planKey,j=e.priceKey,y=e.setOpen,w=e.open,N=(e.type,(0,B.m)()),Z=N.hash,S=N.userData,_=(0,r.useState)(),P=_[0],C=_[1],M=(0,u.useRouter)(),O=(0,r.useState)(),E=O[0],I=O[1],T=(0,r.useState)(!1),D=T[0],W=T[1];console.log("estimate: ",E);var F=(0,r.useState)("loading"),R=F[0],q=F[1],H=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(R)}),[R]);(0,r.useEffect)((function(){function e(){return(e=Ze(U().mark((function e(){var t,n;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H("loading")){e.next=7;break}return e.next=4,Ce(Z);case 4:(null===(n=e.sent)||void 0===n?void 0:n.error)||!(null===n||void 0===n||null===(t=n.usage)||void 0===t?void 0:t.add_on)?q("estimate_error"):(q("estimate"),W(n.usage.add_on.used.cents<5)),I(n.usage);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[H,Z]),(0,r.useEffect)((function(){function e(){return(e=Ze(U().mark((function e(){var t;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H("confirming")){e.next=6;break}return e.next=3,Pe(Z);case 3:t=e.sent,C(t),t.success?q("confirmed"):q("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[H,Z,j,b]);var L=(0,m.Z)(),z=(0,r.useMemo)((function(){return H("confirming")?function(){}:H("confirmed")?function(){return M.reload()}:null}),[H,M]),Y={open:w,setOpen:y,title:L.formatMessage({id:"removePrivate.title"}),ActionButton:function(){return(0,a.jsxs)(A.Z,{className:(0,p.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){"confirmed"===R?M.reload():H("error","estimate_error")?(C(null),I(null),q("loading")):H("estimate")&&q("confirming")},disabled:H("confirming","loading"),children:[["estimate"].includes(R)&&(0,a.jsx)(x.Z,{id:"removePrivate.confirmChange"}),H("confirmed")&&(0,a.jsx)(x.Z,{id:"removePrivate.close"}),H("confirming")&&(0,a.jsx)(x.Z,{id:"removePrivate.pleaseWait "}),H("error","estimate_error")&&(0,a.jsx)(x.Z,{id:"removePrivate.tryAgain"}),H("loading")&&(0,a.jsx)(x.Z,{id:"removePrivate.loading"})]})},BackButton:function(){return H("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(A.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){return y(!1)},children:(0,a.jsx)(x.Z,{id:"removePrivate.cancel"})})},type:(null===P||void 0===P?void 0:P.msg)?"warning":H("confirmed")?"success":"standard",closeCallback:z};return(0,a.jsxs)(k.Z,{modalBaseProps:Y,children:[H("confirming","error","estimate_error","confirmed")&&(0,a.jsx)(_e,{data:P||E,currentStatus:R}),H("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})}),D&&H("estimate")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"removePrivate.youAreEligibleForAFullRefund"})}),(0,a.jsx)("p",{className:"",children:(0,a.jsx)(x.Z,{id:"removePrivate.theRemovalOfYourStealthWill"})})]}),!1===D&&H("estimate")&&(0,a.jsxs)("div",{className:"flex flex-col gap-6 my-2 text-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"removePrivate.youAreEligibleForProration"})}),(0,a.jsx)("p",{className:"text-slate-200",children:(0,a.jsx)(x.Z,{id:"removePrivate.ifYouProceed"})}),(0,a.jsxs)("p",{className:"flex gap-2 items-start p-2 italic text-slate-400 rounded-lg border border-blue-800",children:[(0,a.jsx)(we.Z,{height:20,className:"inline shrink-0 text-blue-600"}),(0,a.jsx)(x.Z,{id:"removePrivate.ifYouWantToKeep"})]}),(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsx)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h3",{className:"text-base font-normal text-left text-slate-100",children:(0,a.jsx)(x.Z,{id:"removePrivate.removingStealthMode",values:{highlight:function(e){return(0,a.jsx)("span",{className:"text-indigo-500",children:e})}}})}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Time remaining in month"}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium","text-emerald-500"),children:[0!==-(null===E||void 0===E||null===(t=E.add_ons)||void 0===t||null===(n=t.can_private)||void 0===n||null===(s=n.left)||void 0===s?void 0:s.cents)&&(-(null===E||void 0===E||null===(l=E.add_ons)||void 0===l||null===(i=l.can_private)||void 0===i||null===(o=i.left)||void 0===o?void 0:o.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.floor(Math.abs(null===(c=null===E||void 0===E?void 0:E.add_ons.can_private)||void 0===c?void 0:c.left.cents))/100]})]})]})}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Current balance"}),(0,a.jsxs)("p",{className:(0,p.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===S||void 0===S||null===(d=S.stripe)||void 0===d?void 0:d.balance)/100)]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Final balance"}),(0,a.jsxs)("p",{className:(0,p.CN)(" text-emerald-500"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.round(Math.abs((null===E||void 0===E||null===(f=E.add_ons)||void 0===f||null===(h=f.can_private)||void 0===h||null===(v=h.left)||void 0===v?void 0:v.cents)+(null===S||void 0===S||null===(g=S.stripe)||void 0===g?void 0:g.balance)))/100]})]})]})})]})]})]})}function Oe(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){Oe(s,a,r,l,i,"next",e)}function i(e){Oe(s,a,r,l,i,"throw",e)}l(void 0)}))}}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function(e){var t=e.currentStatus,n=e.data,r=(0,m.Z)();console.log("data: ",n);var s,l={text:r.formatMessage({id:"unchange.changeConfirming"}),type:"loading"};("confirmed"===t&&(l={text:r.formatMessage({id:"unchange.changeConfirmed"}),type:"success"}),"error"===t||"estimate_error"===t)&&(l={text:"".concat(r.formatMessage({id:"unchange.error"})," :").concat((null===n||void 0===n||null===(s=n.error)||void 0===s?void 0:s.message)||"Unknown error"),type:"error"});return(0,a.jsx)(te,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ee(e,t,n[t])}))}return e}({},l))},Ae=function(){var e,t,n,r,s,l,i,o,c,d,u,m=(0,B.m)(),f=m.userData,h=m.plans,v=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},g=(null===f||void 0===f||null===(e=f.plan)||void 0===e?void 0:e.type)===(null===f||void 0===f||null===(t=f.next)||void 0===t?void 0:t.plan.key),b=h.find((function(e){var t;return e.key===(null===f||void 0===f||null===(t=f.next)||void 0===t?void 0:t.plan.key)})),j=null===b||void 0===b?void 0:b.price[null===f||void 0===f||null===(n=f.next)||void 0===n?void 0:n.plan.price.key],y=h.find((function(e){return e.key===(null===f||void 0===f?void 0:f.plan.type)})),w=null===y||void 0===y?void 0:y.price[null===f||void 0===f?void 0:f.plan.recurring];return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-left text-slate-400",children:(0,a.jsx)(x.Z,{id:"unchange.cancelAnyPlanChanges",values:{date:function(){return(0,a.jsx)("span",{className:"text-blue-500",children:(0,p.L0)(f.next.at,!0)[1]})}}})}),(0,a.jsx)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-left text-slate-400 uppercase",children:(0,a.jsx)(x.Z,{id:"unchange.from"})}),(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(x.Z,{id:"unchange.swapTo"})," ",(0,a.jsxs)("span",{className:v(null===f||void 0===f||null===(r=f.next)||void 0===r?void 0:r.plan.key),children:[(0,a.jsx)(x.Z,{id:null!==(d=null===f||void 0===f||null===(s=f.next)||void 0===s?void 0:s.plan.key)&&void 0!==d?d:"missing"}),(0,a.jsx)(x.Z,{id:"manageSub.plan"})," ",g&&("month"===(null===f||void 0===f||null===(l=f.next)||void 0===l?void 0:l.plan.key)?(0,a.jsx)(x.Z,{id:"manageSub.monthly"}):(0,a.jsx)(x.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(x.Z,{id:"unchange.basePrice"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(j.cents)/100," ","month"===(null===f||void 0===f||null===(i=f.next)||void 0===i?void 0:i.plan.key)?(0,a.jsx)(x.Z,{id:"manageSub.perMonth"}):(0,a.jsx)(x.Z,{id:"manageSub.perYear"})]})]})]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-left text-slate-400 uppercase",children:(0,a.jsx)(x.Z,{id:"unchange.to"})}),(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100 capitalize",children:[(0,a.jsx)(x.Z,{id:"unchange.keep"})," ",(0,a.jsxs)("span",{className:v(null===f||void 0===f?void 0:f.plan.type),children:[(0,a.jsx)(x.Z,{id:null!==(u=null===f||void 0===f?void 0:f.plan.type)&&void 0!==u?u:"missing"}),(0,a.jsx)(x.Z,{id:"manageSub.plan"})," ",g&&("month"===(null===f||void 0===f||null===(o=f.next)||void 0===o?void 0:o.plan.key)?(0,a.jsx)(x.Z,{id:"manageSub.monthly"}):(0,a.jsx)(x.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(x.Z,{id:"unchange.basePrice"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(w.cents)/100," /"," ",null===f||void 0===f||null===(c=f.next)||void 0===c?void 0:c.plan.price.key]})]})]})]})})]})})},Te=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500","aria-label":"confirmation",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"unchange.success"})}),(0,a.jsx)(x.Z,{id:"unchange.yourPlanCHangeHasBeen"})]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"unchange.somethingWentWrong"})}),(0,a.jsx)(x.Z,{id:"unchange.pleaseTryAgain",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"unchange.processing"})}),(0,a.jsx)(x.Z,{id:"unchange.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:e})}}})]})}return e}()})}),(0,a.jsx)(Ie,{currentStatus:t,data:n})]})};function De(e){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/unchange/"),{hash:e})}function We(e){var t=e.setOpen,n=e.open,s=(0,B.m)().hash,l=(0,r.useState)(),i=l[0],o=l[1],c=(0,u.useRouter)(),d=(0,r.useState)(),f=d[0],h=(d[1],(0,r.useState)("estimate")),v=h[0],g=h[1],b=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(v)}),[v]);(0,r.useEffect)((function(){function e(){return(e=Be(U().mark((function e(){var t;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b("confirming")){e.next=6;break}return e.next=3,De(s);case 3:t=e.sent,o(t),t.success?g("confirmed"):g("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b,s]);var j=(0,m.Z)(),y=(0,r.useMemo)((function(){return b("confirming")?function(){}:b("confirmed")?function(){return c.reload()}:null}),[b,c]),w={open:n,setOpen:t,title:j.formatMessage({id:"unchange.title"}),ActionButton:function(){return(0,a.jsxs)(A.Z,{className:(0,p.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){b("confirmed")?c.reload():b("asking")?g("estimate"):b("error","estimate_error")?(o(null),g("estimate")):b("estimate")&&g("confirming")},disabled:b("confirming","loading"),children:[["estimate"].includes(v)&&(0,a.jsx)(x.Z,{id:"unchange.confirmChange"}),b("asking")&&(0,a.jsx)(x.Z,{id:"unchange.next"}),b("confirmed")&&(0,a.jsx)(x.Z,{id:"unchange.close"}),b("confirming")&&(0,a.jsx)(x.Z,{id:"unchange.pleaseWait"}),b("error","estimate_error")&&(0,a.jsx)(x.Z,{id:"unchange.tryAgain"}),b("loading")&&(0,a.jsx)(x.Z,{id:"unchange.loading"})]})},BackButton:function(){var e;return b("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(A.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){var e;b("estimate")&&(null===f||void 0===f||null===(e=f.can_change)||void 0===e?void 0:e.now)?g("asking"):t(!1)},children:b("estimate")&&(null===f||void 0===f||null===(e=f.can_change)||void 0===e?void 0:e.now)?(0,a.jsx)(x.Z,{id:"unchange.back"}):(0,a.jsx)(x.Z,{id:"unchange.cancel"})})},type:(null===i||void 0===i?void 0:i.msg)?"warning":b("confirmed")?"success":"standard",closeCallback:y};return(0,a.jsxs)(k.Z,{modalBaseProps:w,children:[b("confirming","error","estimate_error","confirmed")&&(0,a.jsx)(Te,{data:i||f,currentStatus:v}),b("estimate")&&(0,a.jsx)(Ae,{}),b("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}function Fe(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}function Re(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){Fe(s,a,r,l,i,"next",e)}function i(e){Fe(s,a,r,l,i,"throw",e)}l(void 0)}))}}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=function(e){var t=e.currentStatus,n=e.data,r=(0,m.Z)();console.log("data: ",n);var s,l={text:r.formatMessage({id:"upgrade.changeConfirming"}),type:"loading"};("confirmed"===t&&(l={text:r.formatMessage({id:"upgrade.changeConfirmed"}),type:"success"}),"error"===t||"estimate_error"===t)&&(l={text:"".concat(r.formatMessage({id:"upgrade.error"})," :").concat((null===n||void 0===n||null===(s=n.error)||void 0===s?void 0:s.message)||"Unknown error"),type:"error"});return(0,a.jsx)(te,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){qe(e,t,n[t])}))}return e}({},l))},Le=function(e){var t,n,r,s,l,i,o,c,d,u,m,f,h,v,g,b,j,y,w,N,Z,k,S,_,P,C,M,O,B,E,I,A,T,D,W,F,R,q,H,L,U,z,Y,$,K,G=e.estimate,V=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},J=(null===(t=G.old_plan)||void 0===t?void 0:t.key)===(null===(n=G.new_plan)||void 0===n?void 0:n.key);return G&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-left text-slate-400",children:(0,a.jsx)(x.Z,{id:"upgrade.anyRemainingPrivate",values:{underline:function(e){return(0,a.jsx)("span",{className:"underline",children:e})}}})})," ",(0,a.jsx)("p",{className:"text-left text-slate-400",children:(0,a.jsx)(x.Z,{id:"upgrade.anyUnpaidUsage"})}),(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(x.Z,{id:"upgrade.from"})," ",(0,a.jsxs)("span",{className:V(null===(r=G.old_plan)||void 0===r?void 0:r.key),children:[(0,a.jsx)(x.Z,{id:null!==($=null===(s=G.old_plan)||void 0===s?void 0:s.key)&&void 0!==$?$:"missing"}),(0,a.jsx)(x.Z,{id:"manageSub.plan"})," ",J&&("month"===G.old_plan.price.recurring?(0,a.jsx)(x.Z,{id:"manageSub.monthly"}):(0,a.jsx)(x.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item unused fast",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(x.Z,{id:"upgrade.unusedFastHours"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium",-(null===(i=null===(l=G.usage)||void 0===l?void 0:l.plan.left)||void 0===i?void 0:i.cents)>0?"text-rose-500":"text-emerald-500"),children:[0!==-(null===(c=null===(o=G.usage)||void 0===o?void 0:o.plan.left)||void 0===c?void 0:c.cents)&&(-(null===(u=null===(d=G.usage)||void 0===d?void 0:d.plan.left)||void 0===u?void 0:u.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(-(null===(f=null===(m=G.usage)||void 0===m?void 0:m.plan.left)||void 0===f?void 0:f.cents))/100]})]}),(null===(h=G.usage)||void 0===h||null===(v=h.add_ons)||void 0===v?void 0:v.can_private)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item unused stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Unused Stealth Mode"}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium","text-emerald-500"),children:[0!==-(null===(g=G.usage)||void 0===g||null===(b=g.add_ons)||void 0===b||null===(j=b.can_private)||void 0===j||null===(y=j.left)||void 0===y?void 0:y.cents)&&(-(null===(w=G.usage)||void 0===w||null===(N=w.add_ons)||void 0===N||null===(Z=N.can_private)||void 0===Z||null===(k=Z.left)||void 0===k?void 0:k.cents)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.floor(Math.abs(null===(S=G.usage.add_ons.can_private)||void 0===S?void 0:S.left.cents))/100]})]}):null,(null===G||void 0===G||null===(_=G.usage)||void 0===_?void 0:_.metered)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:"Outstanding metered usage"}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium","text-rose-500"),children:["-",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===G||void 0===G||null===(P=G.usage)||void 0===P||null===(C=P.metered)||void 0===C||null===(M=C.used)||void 0===M?void 0:M.cents)/100]})]}):null]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(x.Z,{id:"upgrade.to"})," ",(0,a.jsxs)("span",{className:V(null===G||void 0===G||null===(O=G.new_plan)||void 0===O?void 0:O.key),children:[(0,a.jsx)(x.Z,{id:null!==(K=null===(B=G.new_plan)||void 0===B?void 0:B.key)&&void 0!==K?K:"missing"}),(0,a.jsx)(x.Z,{id:"manageSub.plan"})," ",J&&("month"===G.new_plan.price.recurring?(0,a.jsx)(x.Z,{id:"manageSub.monthly"}):(0,a.jsx)(x.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(x.Z,{id:"upgrade.priceOfPlan"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium",(null===G||void 0===G||null===(E=G.new_plan)||void 0===E?void 0:E.price.cents)>0?"text-rose-500":"text-emerald-500"),children:["-",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===G||void 0===G||null===(I=G.new_plan)||void 0===I?void 0:I.price.cents)/100," ","month"===G.new_plan.price.recurring?(0,a.jsx)(x.Z,{id:"manageSub.perMonth"}):(0,a.jsx)(x.Z,{id:"manageSub.perYear"})]})]})]})]}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full text-slate-400 ","aria-label":"line item subtotal",children:[(0,a.jsx)("p",{className:"",children:(0,a.jsx)(x.Z,{id:"upgrade.subtotal"})}),(0,a.jsxs)("p",{className:(0,p.CN)(""),children:[0!==(null===G||void 0===G||null===(A=G.stripe)||void 0===A?void 0:A.subtotal)&&((null===G||void 0===G||null===(T=G.stripe)||void 0===T?void 0:T.subtotal)>0?"-":"+"),(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===G||void 0===G||null===(D=G.stripe)||void 0===D?void 0:D.subtotal)/100)]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full text-slate-400 ","aria-label":"line item tax",children:[(0,a.jsx)("p",{className:"",children:(0,a.jsx)(x.Z,{id:"upgrade.tax"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),(null===G||void 0===G||null===(W=G.stripe)||void 0===W?void 0:W.tax)/100]})]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(null===G||void 0===G||null===(F=G.stripe)||void 0===F?void 0:F.starting_balance)<0&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item current balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:(0,a.jsx)(x.Z,{id:"upgrade.currentBalance"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===G||void 0===G||null===(R=G.stripe)||void 0===R?void 0:R.starting_balance)/100),")"]})]}),((null===G||void 0===G||null===(q=G.stripe)||void 0===q?void 0:q.amount_due)>0||(null===G||void 0===G||null===(H=G.stripe)||void 0===H?void 0:H.starting_balance)<0)&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line due",children:[(0,a.jsx)("p",{className:"text-slate-300",children:(0,a.jsx)(x.Z,{id:"upgrade.amountDue"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),(null===G||void 0===G||null===(L=G.stripe)||void 0===L?void 0:L.amount_due)/100]})]}),((null===G||void 0===G||null===(U=G.stripe)||void 0===U?void 0:U.ending_balance)<0||(null===G||void 0===G||null===(z=G.stripe)||void 0===z?void 0:z.starting_balance)<0)&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line final balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:(0,a.jsx)(x.Z,{id:"upgrade.finalBalance"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===G||void 0===G||null===(Y=G.stripe)||void 0===Y?void 0:Y.ending_balance)/100),")"]})]})]})})]})]})})},Ue=function(e){var t,n,r,s,l,i,o,c,d,u,m,f,h,v,g,b,j,y=e.estimate;console.log("estimate: ",null===w||void 0===w||null===(t=w.stripe)||void 0===t?void 0:t.balance);var w=(0,B.m)().userData,N=function(e){return{basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[e]},Z=(null===(n=y.old_plan)||void 0===n?void 0:n.key)===(null===(r=y.new_plan)||void 0===r?void 0:r.key);return y&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-left text-slate-400",children:(0,a.jsx)(x.Z,{id:"upgrade.atTheEndOfYourBilling"})})," ",(0,a.jsxs)("div",{className:"flex overflow-hidden flex-col gap-1 mt-4",children:[(0,a.jsxs)("div",{className:"p-4 py-6 space-y-4 bg-darkBlue-500/70 rounded-xl border border-slate-800/50",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(x.Z,{id:"upgrade.from"})," ",(0,a.jsxs)("span",{className:N(null===(s=y.old_plan)||void 0===s?void 0:s.key),children:[null===(l=y.old_plan)||void 0===l?void 0:l.copy.name,Z&&("month"===(null===y||void 0===y?void 0:y.old_plan.price.recurring)?(0,a.jsx)(x.Z,{id:"manageSub.monthly"}):(0,a.jsx)(x.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(x.Z,{id:"upgrade.basePrice"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===y||void 0===y||null===(i=y.old_plan)||void 0===i?void 0:i.price.cents)/100," ","month"===y.old_plan.price.recurring?(0,a.jsx)(x.Z,{id:"manageSub.perMonth"}):(0,a.jsx)(x.Z,{id:"manageSub.perYear"})]})]}),(null===y||void 0===y||null===(o=y.usage)||void 0===o||null===(c=o.add_ons)||void 0===c?void 0:c.can_private)?(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item stealth",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(x.Z,{id:"upgrade.plusStealthMode"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium","text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),"20 / month"]})]}):null]}),(0,a.jsx)("hr",{className:"my-2 border-slate-800"}),(0,a.jsxs)("div",{className:"text-slate-300",children:[(0,a.jsxs)("h3",{className:"text-base font-normal text-left text-slate-100",children:[(0,a.jsx)(x.Z,{id:"upgrade.to"})," ",(0,a.jsxs)("span",{className:N(null===y||void 0===y||null===(d=y.new_plan)||void 0===d?void 0:d.key),children:[null===y||void 0===y||null===(u=y.new_plan)||void 0===u?void 0:u.copy.name,Z&&("month"===(null===y||void 0===y||null===(m=y.new_plan)||void 0===m?void 0:m.price.recurring)?(0,a.jsx)(x.Z,{id:"manageSub.monthly"}):(0,a.jsx)(x.Z,{id:"manageSub.annual"}))]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item base price",children:[(0,a.jsx)("p",{className:"text-slate-400",children:(0,a.jsx)(x.Z,{id:"upgrade.basePrice"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" font-medium text-slate-300"),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs(null===y||void 0===y||null===(f=y.new_plan)||void 0===f?void 0:f.price.cents)/100," ","month"===(null===y||void 0===y||null===(h=y.new_plan)||void 0===h?void 0:h.price.recurring)?(0,a.jsx)(x.Z,{id:"manageSub.perMonth"}):(0,a.jsx)(x.Z,{id:"manageSub.perYear"})]})]})]})]}),(0,a.jsx)("div",{className:"p-4 space-y-4 text-slate-200 border border-transparent .bg-slate-100/5",children:(0,a.jsxs)("div",{className:"",children:[(null===w||void 0===w||null===(v=w.stripe)||void 0===v?void 0:v.balance)<0&&(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line item current balance",children:[(0,a.jsx)("p",{className:"text-slate-300",children:(0,a.jsx)(x.Z,{id:"upgrade.currentBalance"})}),(0,a.jsxs)("p",{className:(0,p.CN)(" "),children:["(",(0,a.jsx)("span",{className:"font-normal",children:"$"}),Math.abs((null===w||void 0===w||null===(g=w.stripe)||void 0===g?void 0:g.balance)/100),")"]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-between items-center w-full","aria-label":"line due",children:[(0,a.jsxs)("p",{className:"text-slate-300",children:[(0,a.jsx)(x.Z,{id:"upgrade.amountDueOn"})," ",(0,a.jsx)("span",{className:"italic text-slate-100",children:(0,p.L0)(w.billing_period.end,!0)[1]})]}),(0,a.jsxs)("p",{className:(0,p.CN)(" "),children:[(0,a.jsx)("span",{className:"font-normal",children:"$"}),((null===y||void 0===y||null===(b=y.new_plan)||void 0===b?void 0:b.price.cents)+(null===w||void 0===w||null===(j=w.stripe)||void 0===j?void 0:j.balance))/100]})]})]})})]})]})})},ze=function(e){var t=e.currentStatus,n=e.data;return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsx)("div",{className:"",children:(0,a.jsx)("p",{className:"text-base text-left text-gray-500","aria-label":"confirmation",children:function(){var e=null;switch(t){case"confirmed":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"upgrade.success"})}),(0,a.jsx)(x.Z,{id:"upgrade.yourPlanChangeHasBeen"})]});break;case"error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"upgrade.somethingWentWrong"})}),(0,a.jsx)(x.Z,{id:"upgrade.thisMayBeDueTo",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;case"estimate_error":e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"upgrade.somethingWentWrong"})}),(0,a.jsx)(x.Z,{id:"upgrade.thereWasAnError",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0",children:e})}}})]});break;default:e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-2 text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"upgrade.processing"})}),(0,a.jsx)(x.Z,{id:"upgrade.pleaseWaitWhile",values:{support:function(e){return(0,a.jsx)("a",{href:"https://discord.com/channels/662267976984297473/958069758211797092",className:"font-medium text-blue-600 hover:text-blue-500 focus-visible:outline-0 focus:ring-0",children:e})}}})]})}return e}()})}),(0,a.jsx)(He,{currentStatus:t,data:n})]})};function Ye(e,t,n,a){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/change/"),{plan_key:e,price_key:t,hash:a,when:n})}function $e(e,t,n){return(0,p.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/plan/change/estimate/"),{plan_key:e,price_key:t,hash:n,when:"now"})}function Ke(e){var t=e.planKey,n=e.priceKey,s=e.setOpen,l=e.open,i=e.type,o=(0,B.m)().hash,c=(0,r.useState)(),d=c[0],f=c[1],h=(0,u.useRouter)(),v=(0,r.useState)(),g=v[0],b=v[1],j=(0,r.useState)("end_of_period"),y=j[0],w=j[1],N=(0,r.useState)("loading"),Z=N[0],S=N[1],_=(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(Z)}),[Z]);(0,r.useEffect)((function(){function e(){return(e=Re(U().mark((function e(){var a;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_("loading")){e.next=6;break}return e.next=3,$e(t,n,o);case 3:(null===(a=e.sent)||void 0===a?void 0:a.error)||"plan.estimate"!==(null===a||void 0===a?void 0:a.type)?S("estimate_error"):S(a.can_change.now?"asking":"estimate"),b(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[_,o,t,n]),(0,r.useEffect)((function(){function e(){return(e=Re(U().mark((function e(){var a;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_("confirming")){e.next=6;break}return e.next=3,Ye(t,n,y,o);case 3:a=e.sent,f(a),a.success?setTimeout((function(){return S("confirmed")}),500):S("error");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[_,o,n,t,y]);var P=(0,r.useMemo)((function(){return _("confirming")?function(){}:_("confirmed")?function(){return h.reload()}:null}),[_,h]),C={open:l,setOpen:s,title:i,ActionButton:function(){return(0,a.jsxs)(A.Z,{className:(0,p.CN)("inline-flex flex-col justify-center py-2 px-4 w-full text-lg font-normal text-white hover:text-white border-transparent focus:outline-none focus:ring-0 disabled:!text-gray-900 disabled:!bg-gray-600 disabled:pointer-events-none disabled:cursor-not-allowed min-h-[3rem] bg-blue-700 hover:bg-blue-800"),onClick:function(){_("confirmed")?h.reload():_("asking")?S("estimate"):_("error","estimate_error")?(f(null),b(null),S("loading")):_("estimate")&&S("confirming")},disabled:_("confirming","loading"),children:[["estimate"].includes(Z)&&(0,a.jsx)(x.Z,{id:"upgrade.confirmChange"}),_("asking")&&(0,a.jsx)(x.Z,{id:"upgrade.next"}),_("confirmed")&&(0,a.jsx)(x.Z,{id:"upgrade.close"}),_("confirming")&&(0,a.jsx)(x.Z,{id:"upgrade.pleaseWait"}),_("error","estimate_error")&&(0,a.jsx)(x.Z,{id:"upgrade.tryAgain"}),_("loading")&&(0,a.jsx)(x.Z,{id:"upgrade.loading"})]})},BackButton:function(){var e;return _("confirming","confirmed")?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(A.Z,{className:"inline-flex justify-center py-2 px-4 w-full min-h-[3rem] text-base font-medium text-slate-500 hover:text-white hover:underline hover:!bg-white/0 rounded-md border border-transparent focus:outline-none focus:ring-0 sm:text-base",onClick:function(){_("estimate")&&g.can_change.now?S("asking"):s(!1)},children:_("estimate")&&(null===g||void 0===g||null===(e=g.can_change)||void 0===e?void 0:e.now)?(0,a.jsx)(x.Z,{id:"upgrade.back"}):(0,a.jsx)(x.Z,{id:"upgrade.cancel"})})},type:(null===d||void 0===d?void 0:d.msg)?"warning":_("confirmed")?"success":"standard",closeCallback:P},M=(0,m.Z)(),O=[{id:"end_of_period",title:M.formatMessage({id:"upgrade.swapAtEnd"})},{id:"now",title:M.formatMessage({id:"upgrade.swapImmediately"})}];return(0,a.jsxs)(k.Z,{modalBaseProps:C,children:[_("asking")&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 justify-start text-left text-slate-300 items-left",children:[(0,a.jsx)("h2",{className:"text-lg text-blue-400",children:(0,a.jsx)(x.Z,{id:"upgrade.chooseYourTimeframe"})}),(0,a.jsx)("p",{className:"",children:(0,a.jsx)(x.Z,{id:"upgrade.changingPlanNowWill"})}),(0,a.jsxs)("fieldset",{className:"mt-4",onChange:function(e){return w(e.target.id)},children:[(0,a.jsx)("legend",{className:"sr-only",children:(0,a.jsx)(x.Z,{id:"upgrade.cancelTimeframe"})}),(0,a.jsx)("div",{className:"space-y-4",children:O.map((function(e){return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:e.id,name:"cancel-timeframe",type:"radio",defaultChecked:e.id===y,className:"w-4 h-4 text-indigo-600 bg-red-500 border-gray-300 focus:ring-indigo-500 cursor-pointer"}),(0,a.jsx)("label",{htmlFor:e.id,className:"block ml-3 text-base font-medium text-slate-200 cursor-pointer",children:e.title})]},e.id)}))})]})]}),_("confirming","error","estimate_error","confirmed")&&(0,a.jsx)(ze,{data:d||g,currentStatus:Z}),"now"===y&&_("estimate")&&g&&(0,a.jsx)(Le,{estimate:g}),"now"!==y&&_("estimate")&&g&&(0,a.jsx)(Ue,{estimate:g}),_("loading")&&(0,a.jsx)("div",{className:"my-24 text-xl text-center text-white",children:(0,a.jsx)($.gb,{color:"",height:"24",className:"animate-spin"})})]})}var Ge=n(50136),Ve=n(5966),Je=n(96361);var Xe=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"}))}));var Qe=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"}))})),et=n(85113),tt=n(74959),nt=n(79771);var at=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))})),rt=n(51227),st=n(19648),lt=n(88371),it=n(2213),ot=function(e){var t=e.className,n=e.tier,s=(0,m.Z)(),l=(0,u.useRouter)(),i=(0,B.m)(),o=(i.userData,i.privateSub),c=i.cancelling,d=i.changing,f=i.setModalProps,h=i.userUsage,v=i.subbed,g=(0,r.useMemo)((function(){return[c?{title:s.formatMessage({id:"manageSub.uncancelPlan"}),onClick:function(){var e;f({type:"cancel"}),(0,E.B)("view_cancelchange",{category:"Billing",label:"view cancel change options",plan:n.key,price:null===(e=null===n||void 0===n?void 0:n.price[null===n||void 0===n?void 0:n.credit_period])||void 0===e?void 0:e.price,period:n.credit_period})},icon:(0,a.jsx)(Ve.Z,{height:18})}:{title:s.formatMessage({id:"manageSub.cancelPlan"}),onClick:function(){var e;f({type:"cancel"}),(0,E.B)("view_cancel",{category:"Billing",label:"view cancel subscription options",plan:n.key,price:null===(e=null===n||void 0===n?void 0:n.price[null===n||void 0===n?void 0:n.credit_period])||void 0===e?void 0:e.price,period:n.credit_period})},icon:(0,a.jsx)(Ge.Z,{height:18})},o&&{title:s.formatMessage({id:"manageSub.cancelStealth"}),onClick:function(){return f({type:"cancelPrivate"})},icon:(0,a.jsx)(Je.Z,{height:18})},d&&{title:"break"},d&&{title:s.formatMessage({id:"manageSub.cancelPlanChange"}),onClick:function(){return f({type:"unchange"})},icon:(0,a.jsx)(Xe,{height:18})},{title:"break"},{title:"Manage API Keys",onClick:function(){return l.push("/account/keys")},icon:(0,a.jsx)(Qe,{height:18})}].filter(Boolean)}),[]);return(0,a.jsxs)("div",{className:"flex flex-col col-span-1 gap-4 p-6 bg-darkBlue-900/60 rounded-lg",children:[(0,a.jsxs)("h2",{className:"text-xl w-full flex items-center justify-between font-medium text-slate-200",children:[(0,a.jsx)(x.Z,{id:"manageSub.planDetails"}),(0,a.jsx)(it.Z,{optionArray:g,maxWidth:"!w-max",placement:"top-end",className:"h-full",offset:[0,10],transformOrigin:"top-right",buttonHoverStyle:"!rounded-full",children:(0,a.jsx)("button",{className:(0,p.CN)("group p-1 text-slate-400 bg-darkBlue-500 px-3 hover:underline underline-offset-2 rounded-full .border-2 text-sm ml-auto flex gap-2 items-center justify-center !bg-opacity-100"),children:(0,a.jsx)(x.Z,{id:"manageSub.manage"})},"options")})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 justify-start w-full text-slate-400",children:[(0,a.jsx)("h3",{className:"font-medium ".concat(t," opacity-70"),children:(0,a.jsx)(x.Z,{id:"manageSub.fastHours"})}),(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsx)(x.Z,{id:"manageSub.included"}),(0,a.jsxs)("span",{className:"text-slate-200 ",children:[(0,lt.n)(h.period_credits/1e3/60/60)," /"," ",(0,lt.n)(h.plan.credit_allocation/1e3/60/60)]})]}),(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsxs)("div",{className:"group flex relative gap-0.5 items-center !no-underline hover:!underline decoration-dotted decoration-1 underline-offset-2 cursor-help group-button",children:[(0,a.jsx)(mt,{title:s.formatMessage({id:"manageSub.whatAreRolloverFastHours.q"}),text:s.formatMessage({id:"manageSub.whatAreRolloverFastHours.a"})}),(0,a.jsx)(x.Z,{id:"manageSub.rollover"}),(0,a.jsx)(nt.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsx)("span",{className:" text-slate-200 ",children:(0,lt.n)((null===h||void 0===h?void 0:h.rollover_credits)/1e3/60/60)})]}),(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsxs)("div",{className:"group flex relative gap-0.5 items-center !no-underline hover:!underline decoration-dotted decoration-1 underline-offset-2 cursor-help group-button",children:[(0,a.jsx)(mt,{title:s.formatMessage({id:"manageSub.whatAreBonusFastHours.q"}),text:s.formatMessage({id:"manageSub.whatAreBonusFastHours.a"})}),(0,a.jsx)(x.Z,{id:"manageSub.bonus"}),(0,a.jsx)(nt.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsx)("span",{className:" text-slate-200 ",children:(0,lt.n)((null===h||void 0===h?void 0:h.expiring_credits)/1e3/60/60)})]})]}),v&&(0,a.jsx)("div",{className:"flex flex-col gap-2 justify-start mt-auto w-full",children:(0,a.jsx)(rt.Z,{})})]})},ct=function(e){var t,n,r=e.tier,s=(0,B.m)(),l=s.setModalProps,i=(s.userData,s.privateSub);s.cancelling;return(0,a.jsxs)("div",{className:"flex flex-col col-span-1 gap-4 p-6 bg-darkBlue-900/60 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-slate-200",children:(0,a.jsx)(x.Z,{id:"manageSub.planFeatures"})}),(0,a.jsx)("div",{className:"flex flex-col gap-2 justify-start w-full",children:(0,a.jsxs)("ul",{role:"list",className:"flex flex-col space-y-3",children:[null===r||void 0===r||null===(t=r.copy)||void 0===t||null===(n=t.features)||void 0===n?void 0:n.map((function(e){return(0,a.jsxs)("li",{className:"flex items-center text-left text-slate-400 even:text-slate-400 lg:col-span-1",children:[(0,a.jsx)(O.Z,{height:14,className:" text-emerald-700","aria-hidden":"true"}),(0,a.jsx)("p",{className:"ml-3 text-base ",children:(0,a.jsx)(x.Z,{id:null!==e&&void 0!==e?e:"missing"})})]},e)})),i?(0,a.jsxs)("li",{className:"flex justify-between items-center text-left text-slate-400 even:text-slate-400 lg:col-span-1",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(at,{height:14,className:" text-yellow-600","aria-hidden":"true"}),(0,a.jsx)("p",{className:"ml-3 text-base ",children:(0,a.jsx)(x.Z,{id:"manageSub.stealthModeAddon"})})]}),(0,a.jsx)("button",{className:"text-sm text-slate-600 hover:text-rose-600 hover:underline",onClick:function(){return l({type:"cancelPrivate"})},children:(0,a.jsx)(x.Z,{id:"manageSub.remove"})})]}):(0,a.jsx)(a.Fragment,{})]})})]})},dt=function(e){var t,n,r,s,l,i,o=e.viewTab,c=e.tier,d=(0,B.m)(),u=d.userData,f=d.hash,h=d.cancelling,v=d.changing;console.log("userData: ",u);var g,b=(0,m.Z)();return(0,a.jsxs)("div",{className:"flex flex-col col-span-1 gap-6 p-6 bg-darkBlue-900/60 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-slate-200",children:(0,a.jsx)(x.Z,{id:"manageSub.billingAndPayment"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 justify-start w-full text-slate-400",children:[(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsx)(x.Z,{id:"manageSub.price"}),(0,a.jsxs)("span",{className:"text-slate-200 ",children:["$",("year"===o?Math.floor(c.price[o].cents/100/12):(null===c||void 0===c?void 0:c.price[o].cents)/100)+(u.add_ons.can_private?20:0)," ","/ mo"]})]}),(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsx)(x.Z,{id:"manageSub.billingPeriod"})," ",(0,a.jsx)("span",{className:"text-slate-200",children:"year"===o?(0,a.jsx)(x.Z,{id:"manageSub.annual"}):(0,a.jsx)(x.Z,{id:"manageSub.monthly"})})]}),h?(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsx)(x.Z,{id:"manageSub.cancellingOn"}),(0,a.jsx)("span",{className:"text-slate-200",children:(0,p.L0)(null===u||void 0===u||null===(t=u.next)||void 0===t?void 0:t.at,!0)[1]})]}):(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsx)(x.Z,{id:"manageSub.renewalDate"}),(0,a.jsx)("span",{className:"text-slate-200",children:(0,p.L0)(u.billing_period.end,!0)[1]})]}),!h&&v&&(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsx)(x.Z,{id:"manageSub.changingTo"}),(0,a.jsxs)("span",{className:"text-slate-200 capitalize",children:[(0,a.jsx)(x.Z,{id:null!==(g=null===u||void 0===u||null===(n=u.next)||void 0===n||null===(r=n.plan)||void 0===r?void 0:r.key)&&void 0!==g?g:"missing"})," ","year"===(null===u||void 0===u||null===(s=u.next)||void 0===s||null===(l=s.plan)||void 0===l||null===(i=l.price)||void 0===i?void 0:i.key)?(0,a.jsx)(x.Z,{id:"manageSub.annual"}):(0,a.jsx)(x.Z,{id:"manageSub.monthly"})]})]}),(null===u||void 0===u?void 0:u.stripe.balance)>0&&(0,a.jsxs)("p",{className:"flex flex-wrap justify-between w-full leading-6",children:[(0,a.jsxs)("div",{className:"group flex relative gap-0.5 items-center !no-underline hover:!underline decoration-dotted decoration-1 underline-offset-2 cursor-help group-button",children:[(0,a.jsx)(x.Z,{id:"manageSub.availableBalance"})," ",(0,a.jsx)(mt,{title:b.formatMessage({id:"manageSub.whatIsAvailableBalance.q"}),text:b.formatMessage({id:"manageSub.whatIsAvailableBalance.a"})}),(0,a.jsx)(nt.Z,{height:16,className:"text-slate-500 group-hover:text-slate-400"})]}),(0,a.jsxs)("span",{className:"text-slate-200",children:["($",(null===u||void 0===u?void 0:u.stripe.balance)/100,")"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mt-auto w-full sm:flex-nowrap",children:[(0,a.jsx)(st.Z,{hash:f||void 0,customText:b.formatMessage({id:"manageSub.editBilling"})}),(0,a.jsx)(st.Z,{hash:f||void 0,customText:b.formatMessage({id:"manageSub.viewInvoices"})})]})]})},ut=function(e){var t,n,s,l,i=e.tier,o=e.viewTab,c=(0,B.m)(),d=c.userPlanRecurring,u=c.status,f=c.subbed,h=c.privateSub,v=c.userData,g=c.cancelling,b={basic:"!text-teal-400",standard:"!text-indigo-400",pro:"!text-amber-400",enterprise:"!text-blue-400"}[i.key],j=(0,r.useState)(!0),y=j[0],w=(j[1],(0,m.Z)());return(0,a.jsx)("div",{className:"relative px-4 mx-auto w-full max-w-7xl text-base",children:(0,a.jsx)("div",{className:".overflow-hidden mx-auto relative bg-darkBlue-500/50 rounded-2xl border transition-[border] ".concat(f&&i.current?"active"===u||null==u?"border-slate-800/30":"border-red-500/30 !border-2":"border-slate-800/30","  shadow-lg lg:flex "),children:(0,a.jsxs)("div",{className:"flex flex-col flex-1 gap-6 p-4 sm:grid sm:p-8",style:{gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))"},children:[(0,a.jsxs)("div",{className:"flex flex-wrap col-span-full gap-4 justify-between items-center",children:[(0,a.jsxs)("h3",{className:"w-auto text-2xl font-extrabold text-slate-100 capitalize",children:[(0,a.jsx)(x.Z,{id:"manageSub.yourPlan",values:{highlight:function(e){return(0,a.jsx)("span",{className:"".concat(b),children:e})},tier:w.formatMessage({id:i.key})}}),h&&" + Stealth Add-On"]}),f&&i.current&&(0,a.jsxs)("div",{children:[g?(0,a.jsxs)("p",{className:(0,p.CN)("inline-flex relative cursor-help group-button items-center py-1 px-2 pr-3 ml-4  text-white align-middle rounded-full"),children:[(0,a.jsx)(mt,{text:"Cancelling on ".concat((0,p.L0)(v.billing_period.end,!0)[1])}),(0,a.jsx)(Ge.Z,{height:14,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm font-bold tracking-wide leading-[16px]","aria-label":w.formatMessage({id:"manageSub.cancelling"}),children:(0,a.jsx)(x.Z,{id:"manageSub.cancelling"})})]}):null,!g&&(null===v||void 0===v||null===(t=v.next)||void 0===t?void 0:t.at)?(0,a.jsxs)("p",{className:(0,p.CN)("inline-flex relative cursor-help group-button items-center py-1 px-2 pr-3 ml-4  text-white align-middle rounded-full"),children:[(0,a.jsx)(mt,{text:"Changing to ".concat(null===v||void 0===v||null===(n=v.next)||void 0===n?void 0:n.plan.key," ").concat(null===v||void 0===v||null===(s=v.next)||void 0===s?void 0:s.plan.price.key,"ly on ").concat((0,p.L0)(null===v||void 0===v||null===(l=v.next)||void 0===l?void 0:l.at,!0)[1])}),(0,a.jsx)(et.Z,{height:14,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm font-bold tracking-wide leading-[16px]",children:"CHANGING"})]}):null,(0,a.jsxs)("div",{className:(0,p.CN)("inline-flex items-center py-1 px-2 pr-3 ml-4 text-sm font-bold tracking-wide leading-[16px] text-white uppercase align-middle rounded-full","active"===u||null==u?"bg-emerald-700":"bg-red-700"),children:["active"===u||null==u?(0,a.jsx)(tt.Z,{height:14,className:"mr-1"}):(0,a.jsx)(we.Z,{height:14,className:"mr-1"})," ",(null===u||void 0===u?void 0:u.replace("_"," ").toUpperCase())||w.formatMessage({id:"manageSub.active"})]}),(0,a.jsx)("div",{className:(0,p.CN)("absolute rounded-2xl top-0 right-0 -z-10 w-full h-full bg-gradient-to-bl  via-transparent","active"===u||null==u?"from-emerald-700/30":"from-red-700/30")})]})]}),y&&(0,a.jsxs)(a.Fragment,{children:[i.legacy&&i.current&&(0,a.jsx)(te,{className:"col-span-full text-left ",type:"warning",text:"You are subscribed to a plan we no longer offer. You may remain subscribed to your current plan indefinitely, however, you may miss out on certain new features as they are added to the supported plans."}),(0,a.jsx)(ot,{className:b,tier:i}),(0,a.jsx)(ct,{tier:i}),(0,a.jsx)(dt,{viewTab:o,tier:i})]})]})})},i.price[d].id)},mt=function(e){var t=e.title,n=e.text;return(0,a.jsxs)("span",{role:"tooltip",className:"flex absolute bottom-[120%] !-left-4 flex-col gap-1 p-3 pt-2 w-64 max-w-max leading-normal text-left text-slate-200 bg-slate-900 rounded-xl border border-slate-800/50 before:!border-t-darkBlue-500 shadow-md shadow-darkBlue-900/50 opacity-0 [.group-button:hover_&]:opacity-100 transition-none [.group-button:hover_&]:transition-opacity !duration-[1ms] delay-200 pointer-events-none md:w-80",children:[t&&(0,a.jsxs)("p",{className:"flex gap-2 items-center text-base font-medium",children:[(0,a.jsx)(nt.Z,{height:24,className:"inline shrink-0 text-blue-500"}),t]}),n&&(0,a.jsxs)("p",{className:"flex gap-2 text-sm text-slate-400",children:[t&&(0,a.jsx)(nt.Z,{height:24,className:"shrink-0 text-blue-500 opacity-0"}),n]})]})};function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){xt(e,t,n[t])}))}return e}var pt=function(){var e=(0,B.m)(),t=e.modalProps,n=e.setModalProps,r=ft({open:!0,setOpen:function(){return n(null)}},null===t||void 0===t?void 0:t.data);switch(null===t||void 0===t?void 0:t.type){case"credit":return(0,a.jsx)(ye,ft({},r),"credit-modal");case"cancel":return(0,a.jsx)(me,ft({},r),"cancel-modal");case"cancelPrivate":return(0,a.jsx)(Me,ft({},r),"cancel-private-modal");case"upgrade":return(0,a.jsx)(Ke,ft({},r),"upgrade-modal");case"unchange":return(0,a.jsx)(We,ft({},r),"unchange-modal");case"invoices":return(0,a.jsx)(Q,ft({},r));default:return null}};function ht(e){var t=e.user;return(0,a.jsxs)("div",{className:"flex flex-wrap gap-y-4 justify-between items-center w-full",children:[(0,a.jsxs)("h1",{className:"flex items-center text-2xl font-medium text-slate-400 align-baseline",children:[(0,a.jsx)("div",{className:"flex overflow-hidden items-center p-[0.15rem] mr-4 bg-uiBlue-500/60 rounded-full",children:(0,a.jsx)(i.default,{src:(null===t||void 0===t?void 0:t.image)||"aaa",unoptimized:!0,height:36,width:36,className:"rounded-full",alt:"Profile Picture"})}),null===t||void 0===t?void 0:t.name,(0,a.jsxs)("span",{className:"text-xl text-slate-700 align-baseline",children:["#",null===t||void 0===t?void 0:t.discriminator]})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("button",{className:"box-border flex justify-center items-center py-2 px-3 h-auto font-sans text-lg font-medium text-slate-500 hover:text-slate-400 active:text-slate-600 hover:underline underline-offset-2 active:underline-offset-1 rounded",onClick:function(){return(0,l.signOut)()},children:[(0,a.jsx)(s.Z,{height:24,className:"mr-2"})," ",(0,a.jsx)(x.Z,{id:"nav.signOut"})]})})})]})}function vt(e){var t,n=e.router,r=e.setConfirmData,s=e.viewTab,l=void 0===s?"year":s,i=e.setViewTab,o=(0,B.m)(),c=o.hash,d=o.user,u=o.userData,m=o.plans,f=o.userUsage,p=o.userPlanRecurring,h=null===m||void 0===m?void 0:m.filter((function(e){return e.current})),v={tiers:m,viewTab:l,setViewTab:i,cancelling:!1,hash:c};return(0,a.jsxs)(a.Fragment,{children:[(null===(t=n.query)||void 0===t?void 0:t.session_id)&&(0,a.jsx)(C,{sessionId:n.query.session_id,setConfirmData:r,hash:c}),(0,a.jsx)(ht,{user:d}),(0,a.jsx)(pt,{}),(0,a.jsx)("div",{className:"pt-12 sm:pt-16 lg:pt-24",children:(0,a.jsx)("div",{className:"px-4 mx-auto max-w-7xl text-center sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"mx-auto space-y-2 max-w-3xl lg:max-w-none",children:[(0,a.jsx)("p",{className:"text-3xl font-extrabold text-white sm:text-4xl lg:text-5xl",role:"heading",children:"active"===(null===u||void 0===u?void 0:u.status)?(0,a.jsx)(x.Z,{id:"manageSub.manageSub"}):(0,a.jsx)(x.Z,{id:"manageSub.purchaseASub"})}),(0,a.jsx)("p",{className:"text-xl text-gray-300",children:(0,a.jsx)(x.Z,{id:"manageSub.chooseThePlan"})})]})})}),(null===h||void 0===h?void 0:h.length)>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"pt-12 mb-16 sm:pt-16",children:(0,a.jsx)(ut,ft({},v,{tier:h[0],viewTab:p,userUsage:f}))})}),(0,a.jsx)("div",{role:"",className:"h-16"}),(0,a.jsx)(H,{className:"",viewTab:l,setViewTab:i}),(0,a.jsx)(R,ft({},v))]})}},3579:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var a,r,s=n(85893),l=n(67294),i=n(32984),o=n(12351),c=n(23784),d=n(19946),u=n(61363),m=n(64103),x=n(16567),f=n(14157),p=n(15466),h=n(73781),v=((r=v||{})[r.Open=0]="Open",r[r.Closed=1]="Closed",r),g=((a=g||{})[a.ToggleDisclosure=0]="ToggleDisclosure",a[a.CloseDisclosure=1]="CloseDisclosure",a[a.SetButtonId=2]="SetButtonId",a[a.SetPanelId=3]="SetPanelId",a[a.LinkPanel=4]="LinkPanel",a[a.UnlinkPanel=5]="UnlinkPanel",a);let b={0:e=>({...e,disclosureState:(0,i.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},j=(0,l.createContext)(null);function y(e){let t=(0,l.useContext)(j);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,y),t}return t}j.displayName="DisclosureContext";let w=(0,l.createContext)(null);function N(e){let t=(0,l.useContext)(w);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,N),t}return t}w.displayName="DisclosureAPIContext";let Z=(0,l.createContext)(null);function k(e,t){return(0,i.E)(t.type,b,e,t)}Z.displayName="DisclosurePanelContext";let S=l.Fragment,_=(0,o.yV)((function(e,t){let{defaultOpen:n=!1,...a}=e,r=(0,l.useRef)(null),s=(0,c.T)(t,(0,c.h)((e=>{r.current=e}),void 0===e.as||e.as===l.Fragment)),d=(0,l.useRef)(null),u=(0,l.useRef)(null),m=(0,l.useReducer)(k,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:u,panelRef:d,buttonId:null,panelId:null}),[{disclosureState:f,buttonId:v},g]=m,b=(0,h.z)((e=>{g({type:1});let t=(0,p.r)(r);if(!t||!v)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(v):t.getElementById(v);null==n||n.focus()})),y=(0,l.useMemo)((()=>({close:b})),[b]),N=(0,l.useMemo)((()=>({open:0===f,close:b})),[f,b]),Z={ref:s};return l.createElement(j.Provider,{value:m},l.createElement(w.Provider,{value:y},l.createElement(x.up,{value:(0,i.E)(f,{0:x.ZM.Open,1:x.ZM.Closed})},(0,o.sY)({ourProps:Z,theirProps:a,slot:N,defaultTag:S,name:"Disclosure"}))))})),P=(0,o.yV)((function(e,t){let n=(0,d.M)(),{id:a=`headlessui-disclosure-button-${n}`,...r}=e,[s,i]=y("Disclosure.Button"),x=(0,l.useContext)(Z),p=null!==x&&x===s.panelId,v=(0,l.useRef)(null),g=(0,c.T)(v,t,p?null:s.buttonRef);(0,l.useEffect)((()=>{if(!p)return i({type:2,buttonId:a}),()=>{i({type:2,buttonId:null})}}),[a,i,p]);let b=(0,h.z)((e=>{var t;if(p){if(1===s.disclosureState)return;switch(e.key){case u.R.Space:case u.R.Enter:e.preventDefault(),e.stopPropagation(),i({type:0}),null==(t=s.buttonRef.current)||t.focus()}}else switch(e.key){case u.R.Space:case u.R.Enter:e.preventDefault(),e.stopPropagation(),i({type:0})}})),j=(0,h.z)((e=>{if(e.key===u.R.Space)e.preventDefault()})),w=(0,h.z)((t=>{var n;(0,m.P)(t.currentTarget)||e.disabled||(p?(i({type:0}),null==(n=s.buttonRef.current)||n.focus()):i({type:0}))})),N=(0,l.useMemo)((()=>({open:0===s.disclosureState})),[s]),k=(0,f.f)(e,v),S=p?{ref:g,type:k,onKeyDown:b,onClick:w}:{ref:g,id:a,type:k,"aria-expanded":e.disabled?void 0:0===s.disclosureState,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:b,onKeyUp:j,onClick:w};return(0,o.sY)({ourProps:S,theirProps:r,slot:N,defaultTag:"button",name:"Disclosure.Button"})})),C=o.AN.RenderStrategy|o.AN.Static,M=(0,o.yV)((function(e,t){let n=(0,d.M)(),{id:a=`headlessui-disclosure-panel-${n}`,...r}=e,[s,i]=y("Disclosure.Panel"),{close:u}=N("Disclosure.Panel"),m=(0,c.T)(t,s.panelRef,(e=>{i({type:e?4:5})}));(0,l.useEffect)((()=>(i({type:3,panelId:a}),()=>{i({type:3,panelId:null})})),[a,i]);let f=(0,x.oJ)(),p=null!==f?f===x.ZM.Open:0===s.disclosureState,h=(0,l.useMemo)((()=>({open:0===s.disclosureState,close:u})),[s,u]),v={ref:m,id:a};return l.createElement(Z.Provider,{value:s.panelId},(0,o.sY)({ourProps:v,theirProps:r,slot:h,defaultTag:"div",features:C,visible:p,name:"Disclosure.Panel"}))})),O=Object.assign(_,{Button:P,Panel:M});var B=n(61782),E=n(86896),I=n(44012),A=n(45332),T=[{question:"faq.whatAreFastHours.q",anchor:"",answer:["faq.whatAreFastHours.a.0","faq.whatAreFastHours.a.1","faq.whatAreFastHours.a.2","faq.whatAreFastHours.a.3"]},{question:"faq.whatIsUnlimitedRelaxed.q",anchor:"",answer:["faq.whatIsUnlimitedRelaxed.a.0","faq.whatIsUnlimitedRelaxed.a.1"]},{question:"faq.whatIfIWantMoreFast.q",anchor:"",answer:"faq.whatIfIWantMoreFast.a"},{question:"faq.whatIsTheCommunityGallery.q",anchor:"",answer:"faq.whatIsTheCommunityGallery.a"},{question:"faq.whatIfIDontWantMyImages.q",anchor:"",answer:"faq.whatIfIDontWantMyImages.a"},{question:"faq.howDoesCommercialUseWork.q",anchor:"",answer:["faq.howDoesCommercialUseWork.a.0","faq.howDoesCommercialUseWork.a.1"]},{question:"faq.canICancelMySubscriptionPlan.q",anchor:"",answer:"faq.canICancelMySubscriptionPlan.a"},{question:"faq.canIChangeMySubscriptionPlan.q",anchor:"",answer:"faq.canIChangeMySubscriptionPlan.a"}];function D(e){var t=e.className,n=(0,E.Z)();return(0,s.jsx)("div",{id:"faq",className:" ".concat(t),children:(0,s.jsx)("div",{className:"py-12 px-4 mx-auto max-w-7xl xs:px-8 md:py-24 md:px-16",children:(0,s.jsxs)("div",{className:"flex flex-col items-center w-full text-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-4xl font-extrabold text-white",children:(0,s.jsx)(I.Z,{id:"faq.title"})}),(0,s.jsx)("p",{className:"mt-4 text-lg text-gray-400",children:(0,s.jsx)(I.Z,{id:"faq.description",values:{br:(0,s.jsx)("br",{}),guide:function(e){return(0,s.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:"https://midjourney.gitbook.io/docs/",children:e})},support:function(e){return(0,s.jsx)("a",{className:"font-medium text-blue-600 hover:text-blue-500",href:n.formatMessage({id:"url.supportChannel"}),children:e})}}})})]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("dl",{className:"mt-12 space-y-3",children:T.map((function(e){return(0,s.jsx)(O,{as:"div",className:" bg-darkBlue-500/50 hover:bg-darkBlue-500/70 rounded-xl border border-slate-800/30",children:function(t){var a=t.open;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("dt",{className:"text-lg",children:(0,s.jsxs)(O.Button,{className:"flex flex-col justify-between items-start p-6 w-full text-left text-gray-400",children:[(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsx)("span",{className:" text-white",children:n.formatMessage({id:e.question})}),(0,s.jsx)("span",{className:"flex items-center ml-6 h-7",children:(0,s.jsx)(B.Z,{className:(0,A.CN)(a?"-rotate-180":"rotate-0","h-6 w-6 transform"),"aria-hidden":"true"})})]}),(0,s.jsx)(O.Panel,{as:"dd",className:"pr-12 mt-2 cursor-default",onClick:function(e){e.stopPropagation()},children:(0,s.jsx)("p",{className:"text-base text-left text-slate-300",children:Array.isArray(e.answer)?e.answer.map((function(e){return(0,s.jsx)("p",{className:"mb-4",dangerouslySetInnerHTML:{__html:n.formatMessage({id:e}).replace(/<a(.*?)>(.*?)<\/a>/g,(function(e,t,n){return"<a".concat(t,' class="font-medium text-blue-600 hover:text-blue-500">').concat(n,"</a>")}))}},e)})):n.formatMessage({id:e.answer})})})]})})})}},e.question)}))})})]})})},"faqHead")}},83195:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var a=n(34051),r=n.n(a),s=n(85893),l=n(67294),i=n(44304),o=n(86896),c=n(47891),d=n(45332),u="https://js.stripe.com/v3",m=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,x="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",f=null,p=function(e){return null!==f||(f=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(x),window.Stripe)t(window.Stripe);else try{var a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(u,'"]')),t=0;t<e.length;t++){var n=e[t];if(m.test(n.src))return n}return null}();a&&e?console.warn(x):a||(a=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(u).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n}(e)),a.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),a.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(r){return void n(r)}else t(null)}))),f},h=function(e,t,n){if(null===e)return null;var a=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.27.0",startTime:t})}(a,n),a},v=Promise.resolve().then((function(){return p(null)})),g=!1;v.catch((function(e){g||console.warn(e)}));var b,j=function(){return b||(b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g=!0;var a=Date.now();return v.then((function(e){return h(e,t,a)}))}("pk_live_51Klny6JavIy9pYdOCk6XphadL80gWZLgPnyWI4DXPHkyO6ocDGZg6hm9Wt67Ogzc11UodLsBO5PQDEVL1kigVDhS00a8GLusLv")),b},y=n(36090),w=n(12197);function N(e,t,n,a,r,s,l){try{var i=e[s](l),o=i.value}catch(c){return void n(c)}i.done?t(o):Promise.resolve(o).then(a,r)}var Z=function(e){var t=e.planKey,n=e.priceKey,a=e.period,u=e.disabled,m=e.className,x=(0,l.useState)(!1),f=x[0],p=x[1],h=(0,c.m)().hash,v=((0,o.Z)(),(0,l.useCallback)(function(){var e,s=(e=r().mark((function e(s){var l,o,c,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),e.prev=1,!f&&!u){e.next=4;break}return e.abrupt("return");case 4:return p(!0),(0,i.B)("view_checkout",{category:"Billing",label:"checkout",plan:t,price:n,period:a}),e.next=8,(0,d.Gf)("".concat("https://www.midjourney.com","/api/billing/passthrough/user/user_id/checkout/session/"),{order:{items:[{type:"plan",product:t,price:n}]},success_url:h?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(h,"&session_id="):"".concat("https://www.midjourney.com","/account/?session_id="),cancel_url:h?"".concat("https://www.midjourney.com","/checkout/plans/?hash=").concat(h):"".concat("https://www.midjourney.com","/account"),hash:h,platform:"midjourney"},!0);case 8:return l=e.sent,e.next=11,l.json();case 11:if(!(o=e.sent).error){e.next=14;break}throw new Error(o.error.message);case 14:return e.next=16,j();case 16:return c=e.sent,e.next=19,c.redirectToCheckout({sessionId:o.id});case 19:m=e.sent.error,console.warn(m.message),p(!1),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(1),console.error(e.t0),p(!1),alert("Error: ".concat((r=e.t0,(null!=(x=Error)&&"undefined"!==typeof Symbol&&x[Symbol.hasInstance]?x[Symbol.hasInstance](r):r instanceof x)?e.t0.message:String(e.t0))));case 29:case"end":return e.stop()}var r,x}),e,null,[[1,24]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function l(e){N(s,a,r,l,i,"next",e)}function i(e){N(s,a,r,l,i,"throw",e)}l(void 0)}))});return function(e){return s.apply(this,arguments)}}(),[u,h,f,t,n]));return(0,s.jsx)("form",{onSubmit:v,children:(0,s.jsxs)(y.Z,{type:"submit",disabled:u||f,className:"flex relative justify-center items-center py-3 px-5 w-full text-base font-medium text-white rounded-md border hoverUpSmall hover:brightness-125 border-transparent disabled:pointer-events-none ".concat(u&&"opacity-20"," ").concat(m),"aria-describedby":"tier-".concat(t),role:"button",children:[f&&(0,s.jsx)(w.gb,{className:"absolute left-3 animate-spin",height:"18"})," ",u?"Unavailable":"Subscribe"]})})}},12918:function(e,t,n){e.exports=n(97345)},85113:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 11l3-3m0 0l3 3m-3-3v8m0-13a9 9 0 110 18 9 9 0 010-18z"}))}));t.Z=r},74959:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"}))}));t.Z=r},58771:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))}));t.Z=r},58057:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));t.Z=r},79771:function(e,t,n){"use strict";var a=n(67294);const r=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))}));t.Z=r}}]);